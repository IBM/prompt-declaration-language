{
    "title": "Arithmetic Expressions",
    "prompts": [
        "Question: Noah charges $60 for a large painting and $30 for a small painting.\n",
        "Last month he sold eight large paintings and four small paintings.\n",
        "If he sold twice as much this month, how much is his sales for this month?\n",
        "\n",
        "Answer: Let's think step by step.\n",
        "He sold 8 large paintings and 4 small paintings last month.\n",
        "He sold twice as many this month.\n",
        "8 large paintings x $60 = << 8*60= 480 >> 480\n",
        "4 small paintings x $30 = << 4*30= 120 >> 120\n",
        "So he sold << 480+120= 600 >> 600 paintings last month.\n",
        "Therefore he sold << 600*2= 1200 >> this month.\n",
        "The answer is $1200.\n",
        "\n",
        "Question: Noah charges $30 for a large painting and $10 for a small painting.\n",
        "Last month he sold five large paintings and three small paintings.\n",
        "If he sold three times as much this month, how much is his sales for this month?\n",
        "\n",
        "Answer: Let's think step by step.\n",
        "He sold 5 large paintings and 3 small paintings last month.\n",
        "He sold three times as many this month.\n",
        "5 large paintings x $30 = << 5*30= 150 >> 150\n",
        "3 small paintings x $10 = << 3*10= 30 >> 30\n",
        "So he sold << 150+30= 180 >> 180 paintings last month.\n",
        "Therefore he sold << 180*3= 540 >> this month.\n",
        "The answer is $540.\n",
        "\n",

 
        "Question: ",
        {
            "var": "QUESTION",
            "lookup": {
                "model": "granite",
                "decoding": "argmax",
                "params": {
                    "distribution_batch_size": 1,
                    "max_length": 2048
                },
                "input": "context"
            }
        },
        "\n",
        "Answer: Let's think step by step.\n",
        {
            "prompts": [
                {
                    "var": "REASON_OR_CALC",
                    "lookup": {
                        "model": "granite",
                        "decoding": "argmax",
                        "params": {
                            "distribution_batch_size": 1,
                            "max_length": 2048
                        },
                        "input": "context",
                        "stop_sequences": [
                            "<<",
                            "So the answer is"
                        ]
                    }
                },
                {
                    "prompts": [
                        {
                            "var": "EXPR",
                            "lookup": {
                                "model": "granite",
                                "decoding": "argmax",
                                "params": {
                                    "distribution_batch_size": 1,
                                    "max_length": 2048
                                },
                                "input": "context",
                                "stop_sequences": [
                                    "="
                                ]
                            }
                        },
                        {
                            "var": "RESULT",
                            "lookup": {
                                "lan": "python",
                                "code": [
                                    "result = exec(",
                                    {
                                        "value": "EXPR"
                                    },
                                    ")"
                                ]
                            }
                        },
                        {
                            "value": "RESULT"
                        },
                        " >>\n"
                    ],
                    "condition": "REASON_OR_CALC.endswith('<<')"
                }
            ]
        },
        "So the answer is ",
        {
            "value": "RESULT"
        }
    ]
}

