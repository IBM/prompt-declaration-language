defs:
  model: ollama_chat/granite3.3:8b
  llm_as_judge: ollama_chat/gpt-oss:20b

  problem: |
    Carla is downloading a 200 GB file. Normally she can download 2 GB/minute, 
    but 40% of the way through the download, Windows forces a restart to install updates, 
    which takes 20 minutes. Then Carla has to restart the download from the beginning. 
    How load does it take to download the file?

  extract_answer:
    function:
      solution: string
    return:
      lastOf:
      - ${ solution }
      - Extract the result from the above solution into a JSON object with field "answer" and a float as value. Remove any dollar signs or other symbols.
      - model: ${ model }
        parser: json
        spec: { "answer": number }

  solve:
    function:
      problem: string
    return:
      defs:
        solution:
          text:
          - ${ problem }
          - "\n\n"
          - model: ${ model }
            parameters:
              temperature: 0.1
            requirements:
            - expect: "The solution to this problem should be correct. Problem: ${ problem }"
            retry: 1
        answer_obj:
          call: ${ extract_answer }
          args:
            solution: ${ solution }
            pdl_context: []
        debug:
          lang: python
          code: |
            print(answer_obj)    
            result = ""
      data: ${ answer_obj.answer }

call: ${ solve }
args:
  problem: ${ problem }
  pdl_context: []
