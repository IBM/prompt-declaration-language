defs:
  RITS_API_KEY:
    lang: python
    code: |
      import os
      result = os.environ["RITS_API_KEY"]
text:
- model: openai/ibm-granite/granite-3.1-8b-instruct
  input:
    text:
    - |-
      
  
      Write code to call a llama model with temperature 0 to ask "what is the weather in Madrid?". Next chain the response in a granite model call, and ten other models.
  parameters:
    api_key: ${RITS_API_KEY}
    api_base: https://inference-3scale-apicast-production.apps.rits.fmaas.res.ibm.com/granite-3-1-8b-instruct/v1/
    extra_headers:
      RITS_API_KEY: ${RITS_API_KEY}
    
    temperature: 0