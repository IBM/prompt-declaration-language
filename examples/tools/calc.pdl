description: tool use
defs:
  calc:
    description: Calculator function
    function:
      expr:
        type: string
        description: Arithmetic expression to calculate
    return:
      lang: python
      code: result = ${ expr }
  tools:
    array:
      - ${ calc.signature }
text:
- "Out of 1400 participants, 400 passed the test. What percentage is that?\n"
- model: ollama_chat/granite4:micro
  parameters:
    tools: ${ tools }
  modelResponse: actions
  contribute: []
- defs:
    action: ${ actions["choices"][0]["message"]["tool_calls"][0] }
    func_name: ${ action.function.name }
    func_args:
      data: ${ action.function.arguments }
      parser: json
  text:
  - Computing `${ func_name }(${ func_args })`
  - "\n"
  - match: ${ func_name }
    with:
    - case: calc
      then:
        call: ${ calc }
        args: 
          expr: ${ func_args.expr }
