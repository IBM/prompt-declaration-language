{"kind": "text", "pdl__id": "text", "description": "Function def and call", "defs": {}, "text": [{"kind": "function", "pdl__id": "text.0.function", "defs": {}, "function": {"sentence": "str", "language": "str"}, "return": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "lastOf": ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__timing": {"start_nanos": 1741307404356942000, "end_nanos": 1741307404664854000, "timezone": "EST"}, "pdl__is_leaf": true}], "pdl__timing": {"start_nanos": 1741307404356389000, "end_nanos": 1741307404664897000, "timezone": "EST"}, "pdl__is_leaf": false}, "def": "translate", "pdl__result": "description=None spec=None defs={} def_='translate' contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>] parser=None fallback=None role=None context=[] pdl__id='text.0.function' pdl__result=None pdl__location=PdlLocationType(path=['text', '[0]'], file='/Users/nickm/git/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}) pdl__timing=PdlTiming(start_nanos=1741307403343100000, end_nanos=1741307403343157000, first_use_nanos=0, timezone='') pdl__is_leaf=True kind=<BlockKind.FUNCTION: 'function'> function={'sentence': 'str', 'language': 'str'} returns=LastOfBlock(description=None, spec=None, defs={}, def_=None, contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>], parser=None, fallback=None, role=None, context=[], pdl__id='text.3.call.lastOf', pdl__result=None, pdl__location=PdlLocationType(path=['text', '[0]', 'return'], file='/Users/nickm/git/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}), pdl__timing=PdlTiming(start_nanos=1741307404356389000, end_nanos=1741307404664897000, first_use_nanos=0, timezone=''), pdl__is_leaf=False, kind=<BlockKind.LASTOF: 'lastOf'>, lastOf=[\"\\nTranslate the sentence '${ sentence }' to ${ language }.\\n\", LitellmModelBlock(description=None, spec=None, defs={}, def_=None, contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>], parser=None, fallback=None, role=None, context=[], pdl__id='text.3.call.lastOf.model', pdl__result=None, pdl__location=PdlLocationType(path=['text', '[0]', 'return', 'lastOf', '[1]'], file='/Users/nickm/git/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}), pdl__timing=PdlTiming(start_nanos=1741307404356942000, end_nanos=1741307404664854000, first_use_nanos=0, timezone=''), pdl__is_leaf=True, kind=<BlockKind.MODEL: 'model'>, model='ollama_chat/granite3.2:2b', input=None, modelResponse=None, pdl__trace=None, platform=<ModelPlatform.LITELLM: 'litellm'>, parameters=LitellmParameters(timeout=None, temperature=0.0, top_p=None, n=None, stop=['\\n'], max_tokens=None, presence_penalty=None, frequency_penalty=None, logit_bias=None, user=None, response_format=None, seed=None, tools=None, tool_choice=None, logprobs=None, top_logprobs=None, parallel_tool_calls=None, extra_headers=None, functions=None, function_call=None, base_url=None, api_version=None, api_key=None, model_list=None, mock_response=None, custom_llm_provider=None, max_retries=None))])", "pdl__timing": {"start_nanos": 1741307403343100000, "end_nanos": 1741307403343157000, "timezone": "EST"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.1.call", "defs": {}, "call": "${ translate }", "args": {"sentence": "I love Paris!", "language": "French"}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.1.call.lastOf", "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.1.call.lastOf", "defs": {}, "data": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__timing": {"start_nanos": 1741307403374942000, "end_nanos": 1741307403375449000, "timezone": "EST"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.1.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}], "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1741307403414770000, "end_nanos": 1741307404354478000, "timezone": "EST"}, "pdl__is_leaf": true}], "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1741307403374897000, "end_nanos": 1741307404354537000, "timezone": "EST"}, "pdl__is_leaf": false}, "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1741307403343183000, "end_nanos": 1741307404354573000, "timezone": "EST"}, "pdl__is_leaf": true}, {"kind": "data", "pdl__id": "text.2", "defs": {}, "data": "\n", "pdl__result": "\n", "pdl__timing": {"start_nanos": 1741307404354594000, "end_nanos": 1741307404354966000, "timezone": "EST"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.3.call", "defs": {}, "call": "${ translate }", "args": {"sentence": "I love Madrid!", "language": "Spanish"}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.3.call.lastOf", "defs": {}, "data": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__timing": {"start_nanos": 1741307404356432000, "end_nanos": 1741307404356897000, "timezone": "EST"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}], "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1741307404356942000, "end_nanos": 1741307404664854000, "timezone": "EST"}, "pdl__is_leaf": true}], "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1741307404356389000, "end_nanos": 1741307404664897000, "timezone": "EST"}, "pdl__is_leaf": false}, "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1741307404355064000, "end_nanos": 1741307404664919000, "timezone": "EST"}, "pdl__is_leaf": true}], "pdl__result": "'J'aime Paris !'\nThe translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1741307403343033000, "end_nanos": 1741307404664946000, "timezone": "EST"}, "pdl__is_leaf": false}