{"kind": "text", "pdl__id": "text", "description": "Function def and call", "defs": {}, "text": [{"kind": "function", "pdl__id": "text.0.function", "defs": {}, "function": {"sentence": "str", "language": "str"}, "return": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "lastOf": ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "input": "${ pdl_context }", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__timing": {"start_nanos": 1742524243898231000, "end_nanos": 1742524246086502000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__timing": {"start_nanos": 1742524243897102000, "end_nanos": 1742524246086583000, "timezone": "EDT"}, "pdl__is_leaf": false}, "def": "translate", "pdl__result": [["description", null], ["spec", null], ["defs", {}], ["def_", "translate"], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["role", null], ["context", []], ["pdl__id", "text.0.function"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]"]], ["file", "/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1742524240344669000], ["end_nanos", 1742524240344800000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", true], ["kind", "function"], ["function", {"sentence": "str", "language": "str"}], ["returns", [["description", null], ["spec", null], ["defs", {}], ["def_", null], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["role", null], ["context", []], ["pdl__id", "text.3.call.lastOf"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]", "return"]], ["file", "/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1742524243897102000], ["end_nanos", 1742524246086583000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", false], ["kind", "lastOf"], ["lastOf", ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", [["description", null], ["spec", null], ["defs", {}], ["def_", null], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["role", null], ["context", []], ["pdl__id", "text.3.call.lastOf.model"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]", "return", "lastOf", "[1]"]], ["file", "/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1742524243898231000], ["end_nanos", 1742524246086502000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", true], ["kind", "model"], ["model", "ollama_chat/granite3.2:2b"], ["input", "${ pdl_context }"], ["modelResponse", null], ["pdl__usage", null], ["pdl__model_input", null], ["platform", "litellm"], ["parameters", [["timeout", null], ["temperature", 0.0], ["top_p", null], ["n", null], ["stop", ["\n"]], ["max_tokens", null], ["presence_penalty", null], ["frequency_penalty", null], ["logit_bias", null], ["user", null], ["response_format", null], ["seed", null], ["tools", null], ["tool_choice", null], ["logprobs", null], ["top_logprobs", null], ["parallel_tool_calls", null], ["extra_headers", null], ["functions", null], ["function_call", null], ["base_url", null], ["api_version", null], ["api_key", null], ["model_list", null], ["mock_response", null], ["custom_llm_provider", null], ["max_retries", null]]]]]]]], ["pdl__scope", ["pdl_context", "pdl_model_default_parameters", "translate"]]], "pdl__timing": {"start_nanos": 1742524240344669000, "end_nanos": 1742524240344800000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.1.call", "defs": {}, "call": "${ translate }", "args": {"pdl__expr": {"sentence": "I love Paris!", "language": "French"}, "pdl__result": {"sentence": "I love Paris!", "language": "French"}}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.1.call.lastOf", "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.1.call.lastOf", "defs": {}, "data": {"pdl__expr": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n"}, "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__timing": {"start_nanos": 1742524240432295000, "end_nanos": 1742524240433231000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.1.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}], "defs": {}, "platform": "litellm", "model": {"pdl__expr": "ollama_chat/granite3.2:2b", "pdl__result": "ollama_chat/granite3.2:2b"}, "input": {"kind": "data", "pdl__id": "text.1.call.lastOf.model", "defs": {}, "data": {"pdl__expr": "${ pdl_context }", "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}]}, "pdl__result": "[{\"role\": \"user\", \"content\": \"\\nTranslate the sentence 'I love Paris!' to French.\\n\", \"defsite\": \"text.1.call.lastOf\"}]", "pdl__timing": {"start_nanos": 1742524240545654000, "end_nanos": 1742524240546251000, "timezone": "EDT"}, "pdl__is_leaf": true}, "parameters": {"pdl__expr": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}, "pdl__result": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}}, "pdl__usage": {"completion_tokens": 17, "prompt_tokens": 25}, "pdl__model_input": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}], "pdl__result": "The translation of \"I love Paris!\" into French is \"J'aime Paris !\"", "pdl__timing": {"start_nanos": 1742524240543638000, "end_nanos": 1742524243893242000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "The translation of \"I love Paris!\" into French is \"J'aime Paris !\"", "pdl__timing": {"start_nanos": 1742524240432204000, "end_nanos": 1742524243893313000, "timezone": "EDT"}, "pdl__is_leaf": false}, "pdl__result": "The translation of \"I love Paris!\" into French is \"J'aime Paris !\"", "pdl__timing": {"start_nanos": 1742524240344861000, "end_nanos": 1742524243893367000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "data", "pdl__id": "text.2", "defs": {}, "data": {"pdl__expr": "\n", "pdl__result": "\n"}, "pdl__result": "\n", "pdl__timing": {"start_nanos": 1742524243893422000, "end_nanos": 1742524243894016000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.3.call", "defs": {}, "call": "${ translate }", "args": {"pdl__expr": {"sentence": "I love Madrid!", "language": "Spanish"}, "pdl__result": {"sentence": "I love Madrid!", "language": "Spanish"}}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.3.call.lastOf", "defs": {}, "data": {"pdl__expr": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n"}, "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__timing": {"start_nanos": 1742524243897193000, "end_nanos": 1742524243898129000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "The translation of \"I love Paris!\" into French is \"J'aime Paris !\"", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}], "defs": {}, "platform": "litellm", "model": {"pdl__expr": "ollama_chat/granite3.2:2b", "pdl__result": "ollama_chat/granite3.2:2b"}, "input": {"kind": "data", "pdl__id": "text.3.call.lastOf.model", "defs": {}, "data": {"pdl__expr": "${ pdl_context }", "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "The translation of \"I love Paris!\" into French is \"J'aime Paris !\"", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}]}, "pdl__result": "[{\"role\": \"user\", \"content\": \"\\nTranslate the sentence 'I love Paris!' to French.\\n\", \"defsite\": \"text.1.call.lastOf\"}, {\"content\": \"The translation of \\\"I love Paris!\\\" into French is \\\"J'aime Paris !\\\"\", \"role\": \"assistant\", \"defsite\": \"text.3.call.lastOf.model\"}, {\"role\": \"user\", \"content\": \"\\n\", \"defsite\": \"text.2\"}, {\"role\": \"user\", \"content\": \"\\nTranslate the sentence 'I love Madrid!' to Spanish.\\n\", \"defsite\": \"text.3.call.lastOf\"}]", "pdl__timing": {"start_nanos": 1742524243900397000, "end_nanos": 1742524243901150000, "timezone": "EDT"}, "pdl__is_leaf": true}, "parameters": {"pdl__expr": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}, "pdl__result": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}}, "pdl__usage": {"completion_tokens": 17, "prompt_tokens": 83}, "pdl__model_input": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "The translation of \"I love Paris!\" into French is \"J'aime Paris !\"", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}], "pdl__result": "The translation of \"I love Madrid!\" into Spanish is \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742524243898231000, "end_nanos": 1742524246086502000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "The translation of \"I love Madrid!\" into Spanish is \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742524243897102000, "end_nanos": 1742524246086583000, "timezone": "EDT"}, "pdl__is_leaf": false}, "pdl__result": "The translation of \"I love Madrid!\" into Spanish is \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742524243894180000, "end_nanos": 1742524246086630000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "The translation of \"I love Paris!\" into French is \"J'aime Paris !\"\nThe translation of \"I love Madrid!\" into Spanish is \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742524240344503000, "end_nanos": 1742524246086684000, "timezone": "EDT"}, "pdl__is_leaf": false}