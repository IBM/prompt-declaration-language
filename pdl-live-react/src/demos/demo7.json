{"kind": "text", "pdl__id": "text", "description": "Function def and call", "defs": {}, "context": "dependent", "text": [{"kind": "function", "pdl__id": "text.0.function", "defs": {}, "function": {"sentence": "string", "language": "string"}, "return": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "context": "dependent", "lastOf": ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "input": "${ pdl_context }", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__timing": {"start_nanos": 1750790300527491000, "end_nanos": 1750790302831433000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__timing": {"start_nanos": 1750790300525427000, "end_nanos": 1750790302831513000, "timezone": "EDT"}, "pdl__is_leaf": false}, "def": "translate", "pdl__result": [["description", null], ["spec", null], ["defs", {}], ["def_", "translate"], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["retry", null], ["trace_error_on_retry", null], ["role", null], ["pdl__context", []], ["pdl__id", "text.0.function"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]"]], ["file", "/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/tutorial/function_definition.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1750790296460770000], ["end_nanos", 1750790296466153000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", true], ["kind", "function"], ["function", {"sentence": "string", "language": "string"}], ["return_", [["description", null], ["spec", null], ["defs", {}], ["def_", null], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["retry", null], ["trace_error_on_retry", null], ["role", null], ["pdl__context", []], ["pdl__id", "text.3.call.lastOf"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]", "return"]], ["file", "/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/tutorial/function_definition.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1750790300525427000], ["end_nanos", 1750790302831513000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", false], ["context", "dependent"], ["kind", "lastOf"], ["lastOf", ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", [["description", null], ["spec", null], ["defs", {}], ["def_", null], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["retry", null], ["trace_error_on_retry", null], ["role", null], ["pdl__context", []], ["pdl__id", "text.3.call.lastOf.model"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]", "return", "lastOf", "[1]"]], ["file", "/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/tutorial/function_definition.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1750790300527491000], ["end_nanos", 1750790302831433000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", true], ["kind", "model"], ["input", "${ pdl_context }"], ["modelResponse", null], ["pdl__usage", null], ["pdl__model_input", null], ["platform", "litellm"], ["model", "ollama_chat/granite3.2:2b"], ["parameters", [["timeout", null], ["temperature", 0.0], ["top_p", null], ["n", null], ["stop", ["\n"]], ["max_tokens", null], ["presence_penalty", null], ["frequency_penalty", null], ["logit_bias", null], ["user", null], ["response_format", null], ["seed", null], ["tools", null], ["tool_choice", null], ["logprobs", null], ["top_logprobs", null], ["parallel_tool_calls", null], ["extra_headers", null], ["functions", null], ["function_call", null], ["base_url", null], ["api_version", null], ["api_key", null], ["model_list", null], ["mock_response", null], ["custom_llm_provider", null], ["max_retries", null]]]]]]]], ["signature", {"type": "function", "name": "translate", "parameters": {"type": "object", "properties": {"sentence": {"type": "string"}, "language": {"type": "string"}}, "required": ["sentence", "language"], "additionalProperties": false}}], ["pdl__scope", ["pdl_context", "pdl_model_default_parameters", "translate"]]], "pdl__timing": {"start_nanos": 1750790296460770000, "end_nanos": 1750790296466153000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.1.call", "defs": {}, "call": "${ translate }", "args": {"pdl__expr": {"sentence": "I love Paris!", "language": "French"}, "pdl__result": {"sentence": "I love Paris!", "language": "French"}}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.1.call.lastOf", "defs": {}, "context": "dependent", "lastOf": [{"kind": "data", "pdl__id": "text.1.call.lastOf", "defs": {}, "data": {"pdl__expr": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n"}, "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__timing": {"start_nanos": 1750790296645058000, "end_nanos": 1750790296646733000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.1.call.lastOf.model", "pdl__context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}], "defs": {}, "platform": "litellm", "model": {"pdl__expr": "ollama_chat/granite3.2:2b", "pdl__result": "ollama_chat/granite3.2:2b"}, "input": {"kind": "data", "pdl__id": "text.1.call.lastOf.model", "defs": {}, "data": {"pdl__expr": "${ pdl_context }", "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}]}, "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}], "pdl__timing": {"start_nanos": 1750790296788800000, "end_nanos": 1750790296789810000, "timezone": "EDT"}, "pdl__is_leaf": true}, "parameters": {"pdl__expr": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}, "pdl__result": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}}, "pdl__usage": {"completion_tokens": 7, "prompt_tokens": 19}, "pdl__model_input": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}], "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1750790296784909000, "end_nanos": 1750790300519558000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1750790296644855000, "end_nanos": 1750790300519669000, "timezone": "EDT"}, "pdl__is_leaf": false}, "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1750790296466297000, "end_nanos": 1750790300519736000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "data", "pdl__id": "text.2", "defs": {}, "data": {"pdl__expr": "\n", "pdl__result": "\n"}, "pdl__result": "\n", "pdl__timing": {"start_nanos": 1750790300519831000, "end_nanos": 1750790300520663000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.3.call", "defs": {}, "call": "${ translate }", "args": {"pdl__expr": {"sentence": "I love Madrid!", "language": "Spanish"}, "pdl__result": {"sentence": "I love Madrid!", "language": "Spanish"}}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "context": "dependent", "lastOf": [{"kind": "data", "pdl__id": "text.3.call.lastOf", "defs": {}, "data": {"pdl__expr": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n"}, "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__timing": {"start_nanos": 1750790300525601000, "end_nanos": 1750790300527323000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "pdl__context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "pdl__defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "pdl__defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__defsite": "text.3.call.lastOf"}], "defs": {}, "platform": "litellm", "model": {"pdl__expr": "ollama_chat/granite3.2:2b", "pdl__result": "ollama_chat/granite3.2:2b"}, "input": {"kind": "data", "pdl__id": "text.3.call.lastOf.model", "defs": {}, "data": {"pdl__expr": "${ pdl_context }", "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "pdl__defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "pdl__defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__defsite": "text.3.call.lastOf"}]}, "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "pdl__defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "pdl__defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__defsite": "text.3.call.lastOf"}], "pdl__timing": {"start_nanos": 1750790300531571000, "end_nanos": 1750790300532617000, "timezone": "EDT"}, "pdl__is_leaf": true}, "parameters": {"pdl__expr": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}, "pdl__result": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}}, "pdl__usage": {"completion_tokens": 18, "prompt_tokens": 51}, "pdl__model_input": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "pdl__defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "pdl__defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__defsite": "text.3.call.lastOf"}], "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1750790300527491000, "end_nanos": 1750790302831433000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1750790300525427000, "end_nanos": 1750790302831513000, "timezone": "EDT"}, "pdl__is_leaf": false}, "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1750790300520908000, "end_nanos": 1750790302831555000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "'J'aime Paris !'\nThe translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1750790296311008000, "end_nanos": 1750790302831625000, "timezone": "EDT"}, "pdl__is_leaf": false}