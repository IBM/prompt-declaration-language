{"kind": "text", "pdl__id": "text", "description": "Function def and call", "defs": {}, "text": [{"kind": "function", "pdl__id": "text.0.function", "defs": {}, "function": {"sentence": "str", "language": "str"}, "return": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "lastOf": ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "input": "${ pdl_context }", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__timing": {"start_nanos": 1742301829765909000, "end_nanos": 1742301830083818000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__timing": {"start_nanos": 1742301829765365000, "end_nanos": 1742301830083852000, "timezone": "EDT"}, "pdl__is_leaf": false}, "def": "translate", "pdl__result": [["description", null], ["spec", null], ["defs", {}], ["def_", "translate"], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["role", null], ["context", []], ["pdl__id", "text.0.function"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]"]], ["file", "/Users/nickm/git/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1742301828632584000], ["end_nanos", 1742301828632630000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", true], ["kind", "function"], ["function", {"sentence": "str", "language": "str"}], ["returns", [["description", null], ["spec", null], ["defs", {}], ["def_", null], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["role", null], ["context", []], ["pdl__id", "text.3.call.lastOf"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]", "return"]], ["file", "/Users/nickm/git/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1742301829765365000], ["end_nanos", 1742301830083852000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", false], ["kind", "lastOf"], ["lastOf", ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", [["description", null], ["spec", null], ["defs", {}], ["def_", null], ["contribute", ["result", "context"]], ["parser", null], ["fallback", null], ["role", null], ["context", []], ["pdl__id", "text.3.call.lastOf.model"], ["pdl__result", null], ["pdl__location", [["path", ["text", "[0]", "return", "lastOf", "[1]"]], ["file", "/Users/nickm/git/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl"], ["table", {"['description']": 1, "['text']": 2, "['text', '[0]']": 3, "['text', '[0]', 'def']": 3, "['text', '[0]', 'function']": 4, "['text', '[0]', 'function', 'sentence']": 5, "['text', '[0]', 'function', 'language']": 6, "['text', '[0]', 'return']": 7, "['text', '[0]', 'return', 'lastOf']": 8, "['text', '[0]', 'return', 'lastOf', '[0]']": 9, "['text', '[0]', 'return', 'lastOf', '[1]']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'model']": 10, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']": 11, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']": 12, "['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']": 13, "['text', '[1]']": 14, "['text', '[1]', 'call']": 14, "['text', '[1]', 'args']": 15, "['text', '[1]', 'args', 'sentence']": 16, "['text', '[1]', 'args', 'language']": 17, "['text', '[2]']": 18, "['text', '[3]']": 19, "['text', '[3]', 'call']": 19, "['text', '[3]', 'args']": 20, "['text', '[3]', 'args', 'sentence']": 21, "['text', '[3]', 'args', 'language']": 22}]]], ["pdl__timing", [["start_nanos", 1742301829765909000], ["end_nanos", 1742301830083818000], ["first_use_nanos", 0], ["timezone", ""]]], ["pdl__is_leaf", true], ["kind", "model"], ["model", "ollama_chat/granite3.2:2b"], ["input", "${ pdl_context }"], ["modelResponse", null], ["pdl__usage", null], ["pdl__model_input", null], ["platform", "litellm"], ["parameters", [["timeout", null], ["temperature", 0.0], ["top_p", null], ["n", null], ["stop", ["\n"]], ["max_tokens", null], ["presence_penalty", null], ["frequency_penalty", null], ["logit_bias", null], ["user", null], ["response_format", null], ["seed", null], ["tools", null], ["tool_choice", null], ["logprobs", null], ["top_logprobs", null], ["parallel_tool_calls", null], ["extra_headers", null], ["functions", null], ["function_call", null], ["base_url", null], ["api_version", null], ["api_key", null], ["model_list", null], ["mock_response", null], ["custom_llm_provider", null], ["max_retries", null]]]]]]]], ["pdl__scope", ["pdl_context", "pdl_model_default_parameters", "translate"]]], "pdl__timing": {"start_nanos": 1742301828632584000, "end_nanos": 1742301828632630000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.1.call", "defs": {}, "call": "${ translate }", "args": {"expr": {"sentence": "I love Paris!", "language": "French"}, "pdl__result": {"sentence": "I love Paris!", "language": "French"}}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.1.call.lastOf", "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.1.call.lastOf", "defs": {}, "data": {"expr": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n"}, "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n", "pdl__timing": {"start_nanos": 1742301828663938000, "end_nanos": 1742301828664489000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.1.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}], "defs": {}, "platform": "litellm", "model": {"expr": "ollama_chat/granite3.2:2b", "pdl__result": "ollama_chat/granite3.2:2b"}, "input": {"kind": "data", "pdl__id": "text.1.call.lastOf.model", "defs": {}, "data": {"expr": "${ pdl_context }", "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}]}, "pdl__result": "[{\"role\": \"user\", \"content\": \"\\nTranslate the sentence 'I love Paris!' to French.\\n\", \"defsite\": \"text.1.call.lastOf\"}]", "pdl__timing": {"start_nanos": 1742301828712794000, "end_nanos": 1742301828713097000, "timezone": "EDT"}, "pdl__is_leaf": true}, "parameters": {"expr": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}, "pdl__result": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}}, "pdl__usage": {"completion_tokens": 7, "prompt_tokens": 25}, "pdl__model_input": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}], "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1742301828711947000, "end_nanos": 1742301829763192000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1742301828663878000, "end_nanos": 1742301829763228000, "timezone": "EDT"}, "pdl__is_leaf": false}, "pdl__result": "'J'aime Paris !'", "pdl__timing": {"start_nanos": 1742301828632652000, "end_nanos": 1742301829763254000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "data", "pdl__id": "text.2", "defs": {}, "data": {"expr": "\n", "pdl__result": "\n"}, "pdl__result": "\n", "pdl__timing": {"start_nanos": 1742301829763276000, "end_nanos": 1742301829763602000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "call", "pdl__id": "text.3.call", "defs": {}, "call": "${ translate }", "args": {"expr": {"sentence": "I love Madrid!", "language": "Spanish"}, "pdl__result": {"sentence": "I love Madrid!", "language": "Spanish"}}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.3.call.lastOf", "defs": {}, "data": {"expr": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n"}, "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "pdl__timing": {"start_nanos": 1742301829765412000, "end_nanos": 1742301829765861000, "timezone": "EDT"}, "pdl__is_leaf": true}, {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}], "defs": {}, "platform": "litellm", "model": {"expr": "ollama_chat/granite3.2:2b", "pdl__result": "ollama_chat/granite3.2:2b"}, "input": {"kind": "data", "pdl__id": "text.3.call.lastOf.model", "defs": {}, "data": {"expr": "${ pdl_context }", "pdl__result": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}]}, "pdl__result": "[{\"role\": \"user\", \"content\": \"\\nTranslate the sentence 'I love Paris!' to French.\\n\", \"defsite\": \"text.1.call.lastOf\"}, {\"content\": \"'J'aime Paris !'\", \"role\": \"assistant\", \"defsite\": \"text.3.call.lastOf.model\"}, {\"role\": \"user\", \"content\": \"\\n\", \"defsite\": \"text.2\"}, {\"role\": \"user\", \"content\": \"\\nTranslate the sentence 'I love Madrid!' to Spanish.\\n\", \"defsite\": \"text.3.call.lastOf\"}]", "pdl__timing": {"start_nanos": 1742301829766639000, "end_nanos": 1742301829766913000, "timezone": "EDT"}, "pdl__is_leaf": true}, "parameters": {"expr": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}, "pdl__result": {"timeout": null, "temperature": 0.0, "top_p": null, "n": null, "stop": ["\n"], "max_tokens": null, "presence_penalty": null, "frequency_penalty": null, "logit_bias": null, "user": null, "response_format": null, "seed": null, "tools": null, "tool_choice": null, "logprobs": null, "top_logprobs": null, "parallel_tool_calls": null, "extra_headers": null, "functions": null, "function_call": null, "base_url": null, "api_version": null, "api_key": null, "model_list": null, "mock_response": null, "custom_llm_provider": null, "max_retries": null}}, "pdl__usage": {"completion_tokens": 18, "prompt_tokens": 73}, "pdl__model_input": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}], "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742301829765909000, "end_nanos": 1742301830083818000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742301829765365000, "end_nanos": 1742301830083852000, "timezone": "EDT"}, "pdl__is_leaf": false}, "pdl__result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742301829763681000, "end_nanos": 1742301830083870000, "timezone": "EDT"}, "pdl__is_leaf": true}], "pdl__result": "'J'aime Paris !'\nThe translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\"", "pdl__timing": {"start_nanos": 1742301828632518000, "end_nanos": 1742301830083889000, "timezone": "EDT"}, "pdl__is_leaf": false}