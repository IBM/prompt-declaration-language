{"kind": "text", "id": "text", "pdl__timing": {"start_nanos": 1741370926392386000, "end_nanos": 1741370927025826000, "timezone": "EST"}, "description": "Function def and call", "defs": {}, "text": [{"kind": "function", "id": "text.0.function", "pdl__timing": {"start_nanos": 1741370926392431000, "end_nanos": 1741370926392484000, "timezone": "EST"}, "defs": {}, "function": {"sentence": "str", "language": "str"}, "return": {"kind": "lastOf", "id": "text.3.call.lastOf", "pdl__timing": {"start_nanos": 1741370926719757000, "end_nanos": 1741370927025783000, "timezone": "EST"}, "defs": {}, "lastOf": ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", {"kind": "model", "id": "text.3.call.lastOf.model", "pdl__timing": {"start_nanos": 1741370926720228000, "end_nanos": 1741370927025747000, "timezone": "EST"}, "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "parameters": {"temperature": 0.0, "stop": ["\n"]}}]}, "def": "translate", "result": "description=None spec=None defs={} assign='translate' contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>] parser=None fallback=None role=None context=[] id='text.0.function' result=None location=LocationType(path=['text', '[0]'], file='/Users/jchen/Work/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}) pdl__timing=Timing(start_nanos=1741370926392431000, end_nanos=1741370926392484000, first_use_nanos=0, timezone='') kind=<BlockKind.FUNCTION: 'function'> function={'sentence': 'str', 'language': 'str'} returns=LastOfBlock(description=None, spec=None, defs={}, assign=None, contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>], parser=None, fallback=None, role=None, context=[], id='text.3.call.lastOf', result=None, location=LocationType(path=['text', '[0]', 'return'], file='/Users/jchen/Work/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}), pdl__timing=Timing(start_nanos=1741370926719757000, end_nanos=1741370927025783000, first_use_nanos=0, timezone=''), kind=<BlockKind.LASTOF: 'lastOf'>, lastOf=[\"\\nTranslate the sentence '${ sentence }' to ${ language }.\\n\", LitellmModelBlock(description=None, spec=None, defs={}, assign=None, contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>], parser=None, fallback=None, role=None, context=[], id='text.3.call.lastOf.model', result=None, location=LocationType(path=['text', '[0]', 'return', 'lastOf', '[1]'], file='/Users/jchen/Work/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}), pdl__timing=Timing(start_nanos=1741370926720228000, end_nanos=1741370927025747000, first_use_nanos=0, timezone=''), kind=<BlockKind.MODEL: 'model'>, model='ollama_chat/granite3.2:2b', input=None, trace=None, modelResponse=None, platform=<ModelPlatform.LITELLM: 'litellm'>, parameters=LitellmParameters(timeout=None, temperature=0.0, top_p=None, n=None, stop=['\\n'], max_tokens=None, presence_penalty=None, frequency_penalty=None, logit_bias=None, user=None, response_format=None, seed=None, tools=None, tool_choice=None, logprobs=None, top_logprobs=None, parallel_tool_calls=None, extra_headers=None, functions=None, function_call=None, base_url=None, api_version=None, api_key=None, model_list=None, mock_response=None, custom_llm_provider=None, max_retries=None))])"}, {"kind": "call", "id": "text.1.call", "pdl__timing": {"start_nanos": 1741370926392505000, "end_nanos": 1741370926718186000, "timezone": "EST"}, "defs": {}, "call": "${ translate }", "args": {"sentence": "I love Paris!", "language": "French"}, "trace": {"kind": "lastOf", "id": "text.1.call.lastOf", "pdl__timing": {"start_nanos": 1741370926394322000, "end_nanos": 1741370926718160000, "timezone": "EST"}, "defs": {}, "lastOf": [{"kind": "data", "id": "text.1.call.lastOf", "pdl__timing": {"start_nanos": 1741370926394352000, "end_nanos": 1741370926394754000, "timezone": "EST"}, "defs": {}, "data": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "result": "\nTranslate the sentence 'I love Paris!' to French.\n"}, {"kind": "model", "id": "text.1.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}], "pdl__timing": {"start_nanos": 1741370926435515000, "end_nanos": 1741370926718110000, "timezone": "EST"}, "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "result": "'J'aime Paris !'"}], "result": "'J'aime Paris !'"}, "result": "'J'aime Paris !'"}, {"kind": "data", "id": "text.2", "pdl__timing": {"start_nanos": 1741370926718204000, "end_nanos": 1741370926718572000, "timezone": "EST"}, "defs": {}, "data": "\n", "result": "\n"}, {"kind": "call", "id": "text.3.call", "pdl__timing": {"start_nanos": 1741370926718667000, "end_nanos": 1741370927025802000, "timezone": "EST"}, "defs": {}, "call": "${ translate }", "args": {"sentence": "I love Madrid!", "language": "Spanish"}, "trace": {"kind": "lastOf", "id": "text.3.call.lastOf", "pdl__timing": {"start_nanos": 1741370926719757000, "end_nanos": 1741370927025783000, "timezone": "EST"}, "defs": {}, "lastOf": [{"kind": "data", "id": "text.3.call.lastOf", "pdl__timing": {"start_nanos": 1741370926719787000, "end_nanos": 1741370926720158000, "timezone": "EST"}, "defs": {}, "data": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n"}, {"kind": "model", "id": "text.3.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "'J'aime Paris !'", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}], "pdl__timing": {"start_nanos": 1741370926720228000, "end_nanos": 1741370927025747000, "timezone": "EST"}, "defs": {}, "platform": "litellm", "model": "ollama_chat/granite3.2:2b", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\""}], "result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\""}, "result": "The translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\""}], "result": "'J'aime Paris !'\nThe translation of \"I love Madrid!\" into Spanish is: \"Me encanta Madrid!\""}