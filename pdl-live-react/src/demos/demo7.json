{"kind": "text", "pdl__id": "text", "pdl__timing": {"start_nanos": 1741033145646045000, "end_nanos": 1741033158789757000, "timezone": "EST"}, "description": "function def and call", "defs": {}, "text": [{"kind": "function", "pdl__id": "text.0.function", "pdl__timing": {"start_nanos": 1741033145646170000, "end_nanos": 1741033145646274000, "timezone": "EST"}, "defs": {}, "function": {"sentence": "str", "language": "str"}, "return": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "pdl__timing": {"start_nanos": 1741033154733169000, "end_nanos": 1741033158789643000, "timezone": "EST"}, "defs": {}, "lastOf": ["\nTranslate the sentence '${ sentence }' to ${ language }.\n", {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "pdl__timing": {"start_nanos": 1741033154734502000, "end_nanos": 1741033158789563000, "timezone": "EST"}, "defs": {}, "platform": "litellm", "model": "ollama/granite-code:8b", "parameters": {"temperature": 0.0, "stop": ["\n"]}}]}, "def": "translate", "pdl__result": "description=None spec=None defs={} def_='translate' contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>] parser=None fallback=None role=None context=[] pdl__id='text.0.function' pdl__result=None pdl__location=PdlLocationType(path=['text', '[0]'], file='/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}) pdl__timing=PdlTiming(start_nanos=1741033145646170000, end_nanos=1741033145646274000, first_use_nanos=0, timezone='') kind=<BlockKind.FUNCTION: 'function'> function={'sentence': 'str', 'language': 'str'} returns=LastOfBlock(description=None, spec=None, defs={}, def_=None, contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>], parser=None, fallback=None, role=None, context=[], pdl__id='text.3.call.lastOf', pdl__result=None, pdl__location=PdlLocationType(path=['text', '[0]', 'return'], file='/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}), pdl__timing=PdlTiming(start_nanos=1741033154733169000, end_nanos=1741033158789643000, first_use_nanos=0, timezone=''), kind=<BlockKind.LASTOF: 'lastOf'>, lastOf=[\"\\nTranslate the sentence '${ sentence }' to ${ language }.\\n\", LitellmModelBlock(description=None, spec=None, defs={}, def_=None, contribute=[<ContributeTarget.RESULT: 'result'>, <ContributeTarget.CONTEXT: 'context'>], parser=None, fallback=None, role=None, context=[], pdl__id='text.3.call.lastOf.model', pdl__result=None, pdl__location=PdlLocationType(path=['text', '[0]', 'return', 'lastOf', '[1]'], file='/Users/lmandel/ml4code/prompt-declaration-language/pdl-live-react/demos/../../examples/talk/4-function.pdl', table={\"['description']\": 1, \"['text']\": 2, \"['text', '[0]']\": 3, \"['text', '[0]', 'def']\": 3, \"['text', '[0]', 'function']\": 4, \"['text', '[0]', 'function', 'sentence']\": 5, \"['text', '[0]', 'function', 'language']\": 6, \"['text', '[0]', 'return']\": 7, \"['text', '[0]', 'return', 'lastOf']\": 8, \"['text', '[0]', 'return', 'lastOf', '[0]']\": 9, \"['text', '[0]', 'return', 'lastOf', '[1]']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'model']\": 10, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters']\": 11, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'stop']\": 12, \"['text', '[0]', 'return', 'lastOf', '[1]', 'parameters', 'temperature']\": 13, \"['text', '[1]']\": 14, \"['text', '[1]', 'call']\": 14, \"['text', '[1]', 'args']\": 15, \"['text', '[1]', 'args', 'sentence']\": 16, \"['text', '[1]', 'args', 'language']\": 17, \"['text', '[2]']\": 18, \"['text', '[3]']\": 19, \"['text', '[3]', 'call']\": 19, \"['text', '[3]', 'args']\": 20, \"['text', '[3]', 'args', 'sentence']\": 21, \"['text', '[3]', 'args', 'language']\": 22}), pdl__timing=PdlTiming(start_nanos=1741033154734502000, end_nanos=1741033158789563000, first_use_nanos=0, timezone=''), kind=<BlockKind.MODEL: 'model'>, model='ollama/granite-code:8b', input=None, modelResponse=None, pdl__trace=None, platform=<ModelPlatform.LITELLM: 'litellm'>, parameters=LitellmParameters(timeout=None, temperature=0.0, top_p=None, n=None, stop=['\\n'], max_tokens=None, presence_penalty=None, frequency_penalty=None, logit_bias=None, user=None, response_format=None, seed=None, tools=None, tool_choice=None, logprobs=None, top_logprobs=None, parallel_tool_calls=None, extra_headers=None, functions=None, function_call=None, base_url=None, api_version=None, api_key=None, model_list=None, mock_response=None, custom_llm_provider=None, max_retries=None))])"}, {"kind": "call", "pdl__id": "text.1.call", "pdl__timing": {"start_nanos": 1741033145646328000, "end_nanos": 1741033154728627000, "timezone": "EST"}, "defs": {}, "call": "${ translate }", "args": {"sentence": "I love Paris!", "language": "French"}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.1.call.lastOf", "pdl__timing": {"start_nanos": 1741033145707290000, "end_nanos": 1741033154728546000, "timezone": "EST"}, "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.1.call.lastOf", "pdl__timing": {"start_nanos": 1741033145707382000, "end_nanos": 1741033145708338000, "timezone": "EST"}, "defs": {}, "data": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Paris!' to French.\n"}, {"kind": "model", "pdl__id": "text.1.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}], "pdl__timing": {"start_nanos": 1741033145818201000, "end_nanos": 1741033154728439000, "timezone": "EST"}, "defs": {}, "platform": "litellm", "model": "ollama/granite-code:8b", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__result": "'Je suis adepte de Paris!'"}], "pdl__result": "'Je suis adepte de Paris!'"}, "pdl__result": "'Je suis adepte de Paris!'"}, {"kind": "data", "pdl__id": "text.2", "pdl__timing": {"start_nanos": 1741033154728689000, "end_nanos": 1741033154729371000, "timezone": "EST"}, "defs": {}, "data": "\n", "pdl__result": "\n"}, {"kind": "call", "pdl__id": "text.3.call", "pdl__timing": {"start_nanos": 1741033154729613000, "end_nanos": 1741033158789696000, "timezone": "EST"}, "defs": {}, "call": "${ translate }", "args": {"sentence": "I love Madrid!", "language": "Spanish"}, "pdl__trace": {"kind": "lastOf", "pdl__id": "text.3.call.lastOf", "pdl__timing": {"start_nanos": 1741033154733169000, "end_nanos": 1741033158789643000, "timezone": "EST"}, "defs": {}, "lastOf": [{"kind": "data", "pdl__id": "text.3.call.lastOf", "pdl__timing": {"start_nanos": 1741033154733273000, "end_nanos": 1741033154734383000, "timezone": "EST"}, "defs": {}, "data": "\nTranslate the sentence '${ sentence }' to ${ language }.\n", "pdl__result": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n"}, {"kind": "model", "pdl__id": "text.3.call.lastOf.model", "context": [{"role": "user", "content": "\nTranslate the sentence 'I love Paris!' to French.\n", "defsite": "text.1.call.lastOf"}, {"content": "'Je suis adepte de Paris!'", "role": "assistant", "defsite": "text.3.call.lastOf.model"}, {"role": "user", "content": "\n", "defsite": "text.2"}, {"role": "user", "content": "\nTranslate the sentence 'I love Madrid!' to Spanish.\n", "defsite": "text.3.call.lastOf"}], "pdl__timing": {"start_nanos": 1741033154734502000, "end_nanos": 1741033158789563000, "timezone": "EST"}, "defs": {}, "platform": "litellm", "model": "ollama/granite-code:8b", "parameters": {"temperature": 0.0, "stop": ["\n"]}, "pdl__result": "'Te quiero mucho Madrid!'"}], "pdl__result": "'Te quiero mucho Madrid!'"}, "pdl__result": "'Te quiero mucho Madrid!'"}], "pdl__result": "'Je suis adepte de Paris!'\n'Te quiero mucho Madrid!'"}