{
  "$defs": {
    "ArrayBlock": {
      "additionalProperties": false,
      "description": "Return the array of values computed by each block of the list of blocks.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "array",
          "default": "array",
          "enum": [
            "array"
          ],
          "title": "Kind",
          "type": "string"
        },
        "array": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Array"
        }
      },
      "required": [
        "array"
      ],
      "title": "ArrayBlock",
      "type": "object"
    },
    "BamModelBlock": {
      "additionalProperties": false,
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "model",
          "default": "model",
          "enum": [
            "model"
          ],
          "title": "Kind",
          "type": "string"
        },
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {}
          ],
          "title": "Model"
        },
        "input": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Input"
        },
        "trace": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trace"
        },
        "modelResponse": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Modelresponse"
        },
        "platform": {
          "const": "bam",
          "enum": [
            "bam"
          ],
          "title": "Platform",
          "type": "string"
        },
        "prompt_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Prompt Id"
        },
        "parameters": {
          "anyOf": [
            {
              "$ref": "#/$defs/BamTextGenerationParameters"
            },
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Parameters"
        },
        "moderations": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModerationParameters"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "data": {
          "anyOf": [
            {
              "$ref": "#/$defs/PromptTemplateData"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "constraints": {
          "default": null,
          "title": "Constraints"
        }
      },
      "required": [
        "model",
        "platform"
      ],
      "title": "BamModelBlock",
      "type": "object"
    },
    "BamTextGenerationParameters": {
      "additionalProperties": false,
      "properties": {
        "beam_width": {
          "anyOf": [
            {
              "maximum": 3,
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Beam width"
        },
        "decoding_method": {
          "anyOf": [
            {
              "$ref": "#/$defs/DecodingMethod"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "include_stop_sequence": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Include Stop Sequence"
        },
        "length_penalty": {
          "anyOf": [
            {
              "$ref": "#/$defs/LengthPenalty"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "max_new_tokens": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max new tokens"
        },
        "min_new_tokens": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Min new tokens"
        },
        "random_seed": {
          "anyOf": [
            {
              "maximum": 4294967295,
              "minimum": 1,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Random seed"
        },
        "repetition_penalty": {
          "anyOf": [
            {
              "maximum": 2.0,
              "minimum": 1.0,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Repetition penalty"
        },
        "return_options": {
          "anyOf": [
            {
              "$ref": "#/$defs/TextGenerationReturnOptions"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "stop_sequences": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "maxItems": 6,
              "minItems": 1,
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "examples": [
            "[\" and \"]"
          ],
          "title": "Stop sequences"
        },
        "temperature": {
          "anyOf": [
            {
              "maximum": 2.0,
              "minimum": 0.0,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Temperature"
        },
        "time_limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Time limit"
        },
        "top_k": {
          "anyOf": [
            {
              "maximum": 100,
              "minimum": 1,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Top K"
        },
        "top_p": {
          "anyOf": [
            {
              "maximum": 1.0,
              "minimum": 0.0,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Top P (nucleus sampling)"
        },
        "truncate_input_tokens": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Truncate input tokens"
        },
        "typical_p": {
          "anyOf": [
            {
              "maximum": 1.0,
              "minimum": 0.01,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Typical P"
        }
      },
      "title": "BamTextGenerationParameters",
      "type": "object"
    },
    "CallBlock": {
      "additionalProperties": false,
      "description": "Calling a function.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "call",
          "default": "call",
          "enum": [
            "call"
          ],
          "title": "Kind",
          "type": "string"
        },
        "call": {
          "description": "Function to call.\n    ",
          "title": "Call"
        },
        "args": {
          "default": {},
          "description": "Arguments of the function with their values.\n    ",
          "title": "Args",
          "type": "object"
        },
        "trace": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trace"
        }
      },
      "required": [
        "call"
      ],
      "title": "CallBlock",
      "type": "object"
    },
    "CodeBlock": {
      "additionalProperties": false,
      "description": "Execute a piece of code.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "code",
          "default": "code",
          "enum": [
            "code"
          ],
          "title": "Kind",
          "type": "string"
        },
        "lang": {
          "description": "Programming language of the code.\n    ",
          "enum": [
            "python",
            "command",
            "jinja",
            "pdl"
          ],
          "title": "Lang",
          "type": "string"
        },
        "code": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Code to execute.\n    ",
          "title": "Code"
        }
      },
      "required": [
        "lang",
        "code"
      ],
      "title": "CodeBlock",
      "type": "object"
    },
    "ContributeTarget": {
      "enum": [
        "result",
        "context"
      ],
      "title": "ContributeTarget",
      "type": "string"
    },
    "ContributeValue": {
      "additionalProperties": false,
      "properties": {
        "value": {
          "items": {},
          "title": "Value",
          "type": "array"
        }
      },
      "required": [
        "value"
      ],
      "title": "ContributeValue",
      "type": "object"
    },
    "DataBlock": {
      "additionalProperties": false,
      "description": "Arbitrary JSON value.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "data",
          "default": "data",
          "enum": [
            "data"
          ],
          "title": "Kind",
          "type": "string"
        },
        "data": {
          "description": "Value defined.",
          "title": "Data"
        },
        "raw": {
          "default": false,
          "description": "Do not evaluate expressions inside strings.",
          "title": "Raw",
          "type": "boolean"
        }
      },
      "required": [
        "data"
      ],
      "title": "DataBlock",
      "type": "object"
    },
    "DecodingMethod": {
      "enum": [
        "greedy",
        "sample"
      ],
      "title": "DecodingMethod",
      "type": "string"
    },
    "EmptyBlock": {
      "additionalProperties": false,
      "description": "Block without an action. It can contain definitions.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "empty",
          "default": "empty",
          "enum": [
            "empty"
          ],
          "title": "Kind",
          "type": "string"
        }
      },
      "title": "EmptyBlock",
      "type": "object"
    },
    "ErrorBlock": {
      "additionalProperties": false,
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "error",
          "default": "error",
          "enum": [
            "error"
          ],
          "title": "Kind",
          "type": "string"
        },
        "msg": {
          "title": "Msg",
          "type": "string"
        },
        "program": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Program"
        }
      },
      "required": [
        "msg",
        "program"
      ],
      "title": "ErrorBlock",
      "type": "object"
    },
    "ForBlock": {
      "additionalProperties": false,
      "description": "Iteration over arrays.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "for",
          "default": "for",
          "enum": [
            "for"
          ],
          "title": "Kind",
          "type": "string"
        },
        "for": {
          "description": "Arrays to iterate over.\n    ",
          "title": "For",
          "type": "object"
        },
        "repeat": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the loop.\n    ",
          "title": "Repeat"
        },
        "join": {
          "anyOf": [
            {
              "$ref": "#/$defs/JoinText"
            },
            {
              "$ref": "#/$defs/JoinArray"
            },
            {
              "$ref": "#/$defs/JoinLastOf"
            }
          ],
          "default": {
            "as": "text",
            "with": ""
          },
          "description": "Define how to combine the result of each iteration.\n    ",
          "title": "Join"
        },
        "trace": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "items": {
                      "anyOf": [
                        {
                          "type": "boolean"
                        },
                        {
                          "type": "integer"
                        },
                        {
                          "type": "number"
                        },
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/$defs/FunctionBlock"
                        },
                        {
                          "$ref": "#/$defs/CallBlock"
                        },
                        {
                          "$ref": "#/$defs/LitellmModelBlock"
                        },
                        {
                          "$ref": "#/$defs/BamModelBlock"
                        },
                        {
                          "$ref": "#/$defs/CodeBlock"
                        },
                        {
                          "$ref": "#/$defs/GetBlock"
                        },
                        {
                          "$ref": "#/$defs/DataBlock"
                        },
                        {
                          "$ref": "#/$defs/IfBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatUntilBlock"
                        },
                        {
                          "$ref": "#/$defs/ForBlock"
                        },
                        {
                          "$ref": "#/$defs/TextBlock"
                        },
                        {
                          "$ref": "#/$defs/LastOfBlock"
                        },
                        {
                          "$ref": "#/$defs/ArrayBlock"
                        },
                        {
                          "$ref": "#/$defs/ObjectBlock"
                        },
                        {
                          "$ref": "#/$defs/MessageBlock"
                        },
                        {
                          "$ref": "#/$defs/ReadBlock"
                        },
                        {
                          "$ref": "#/$defs/IncludeBlock"
                        },
                        {
                          "$ref": "#/$defs/ErrorBlock"
                        },
                        {
                          "$ref": "#/$defs/EmptyBlock"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": "array"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trace"
        }
      },
      "required": [
        "for",
        "repeat"
      ],
      "title": "ForBlock",
      "type": "object"
    },
    "FunctionBlock": {
      "additionalProperties": false,
      "description": "Function declaration.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "function",
          "default": "function",
          "enum": [
            "function"
          ],
          "title": "Kind",
          "type": "string"
        },
        "function": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "description": "Functions parameters with their types.\n    ",
          "title": "Function"
        },
        "return": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the function\n    ",
          "title": "Return"
        },
        "scope": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Scope"
        }
      },
      "required": [
        "function",
        "return"
      ],
      "title": "FunctionBlock",
      "type": "object"
    },
    "GetBlock": {
      "additionalProperties": false,
      "description": "Get the value of a variable.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "get",
          "default": "get",
          "enum": [
            "get"
          ],
          "title": "Kind",
          "type": "string"
        },
        "get": {
          "description": "Name of the variable to access.",
          "title": "Get",
          "type": "string"
        }
      },
      "required": [
        "get"
      ],
      "title": "GetBlock",
      "type": "object"
    },
    "IfBlock": {
      "additionalProperties": false,
      "description": "Conditional control structure.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "if",
          "default": "if",
          "enum": [
            "if"
          ],
          "title": "Kind",
          "type": "string"
        },
        "if": {
          "description": "Condition.\n    ",
          "title": "If"
        },
        "then": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Branch to exectute if the condition is true.\n    ",
          "title": "Then"
        },
        "else": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Branch to execute if the condition is false.\n    ",
          "title": "Else"
        },
        "if_result": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "If Result"
        }
      },
      "required": [
        "if",
        "then"
      ],
      "title": "IfBlock",
      "type": "object"
    },
    "IncludeBlock": {
      "additionalProperties": false,
      "description": "Include a PDL file.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "include",
          "default": "include",
          "enum": [
            "include"
          ],
          "title": "Kind",
          "type": "string"
        },
        "include": {
          "description": "Name of the file to include.\n    ",
          "title": "Include",
          "type": "string"
        },
        "trace": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trace"
        }
      },
      "required": [
        "include"
      ],
      "title": "IncludeBlock",
      "type": "object"
    },
    "JoinArray": {
      "additionalProperties": false,
      "properties": {
        "as": {
          "const": "array",
          "description": "Return the result of each iteration as an array.\n    ",
          "enum": [
            "array"
          ],
          "title": "As",
          "type": "string"
        }
      },
      "required": [
        "as"
      ],
      "title": "JoinArray",
      "type": "object"
    },
    "JoinLastOf": {
      "additionalProperties": false,
      "properties": {
        "as": {
          "const": "lastOf",
          "description": "Return the result of the last iteration.\n    ",
          "enum": [
            "lastOf"
          ],
          "title": "As",
          "type": "string"
        }
      },
      "required": [
        "as"
      ],
      "title": "JoinLastOf",
      "type": "object"
    },
    "JoinText": {
      "additionalProperties": false,
      "properties": {
        "as": {
          "const": "text",
          "default": "text",
          "description": "String concatenation of the result of each iteration.\n    ",
          "enum": [
            "text"
          ],
          "title": "As",
          "type": "string"
        },
        "with": {
          "default": "",
          "description": "String used to concatenate each iteration of the loop.\n    ",
          "title": "With",
          "type": "string"
        }
      },
      "title": "JoinText",
      "type": "object"
    },
    "LastOfBlock": {
      "additionalProperties": false,
      "description": "Return the value of the last block if the list of blocks.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "lastOf",
          "default": "lastOf",
          "enum": [
            "lastOf"
          ],
          "title": "Kind",
          "type": "string"
        },
        "lastOf": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Lastof"
        }
      },
      "required": [
        "lastOf"
      ],
      "title": "LastOfBlock",
      "type": "object"
    },
    "LengthPenalty": {
      "additionalProperties": true,
      "properties": {
        "decay_factor": {
          "anyOf": [
            {
              "exclusiveMinimum": 1.0,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Decay factor"
        },
        "start_index": {
          "anyOf": [
            {
              "minimum": 1,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Start index"
        }
      },
      "title": "LengthPenalty",
      "type": "object"
    },
    "LitellmModelBlock": {
      "additionalProperties": false,
      "description": "Call a LLM through the LiteLLM API: https://docs.litellm.ai/.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "model",
          "default": "model",
          "enum": [
            "model"
          ],
          "title": "Kind",
          "type": "string"
        },
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {}
          ],
          "title": "Model"
        },
        "input": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Input"
        },
        "trace": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trace"
        },
        "modelResponse": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Modelresponse"
        },
        "platform": {
          "const": "litellm",
          "default": "litellm",
          "enum": [
            "litellm"
          ],
          "title": "Platform",
          "type": "string"
        },
        "parameters": {
          "anyOf": [
            {
              "$ref": "#/$defs/LitellmParameters"
            },
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Parameters"
        }
      },
      "required": [
        "model"
      ],
      "title": "LitellmModelBlock",
      "type": "object"
    },
    "LitellmParameters": {
      "additionalProperties": true,
      "description": "Parameters passed to LiteLLM. More details at https://docs.litellm.ai/docs/completion/input.",
      "properties": {
        "timeout": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Timeout"
        },
        "temperature": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Temperature"
        },
        "top_p": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Top P"
        },
        "n": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "N"
        },
        "stop": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Stop"
        },
        "max_tokens": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max Tokens"
        },
        "presence_penalty": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Presence Penalty"
        },
        "frequency_penalty": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Frequency Penalty"
        },
        "logit_bias": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Logit Bias"
        },
        "user": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "User"
        },
        "response_format": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Response Format"
        },
        "seed": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Seed"
        },
        "tools": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tools"
        },
        "tool_choice": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tool Choice"
        },
        "logprobs": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Logprobs"
        },
        "top_logprobs": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Top Logprobs"
        },
        "parallel_tool_calls": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Parallel Tool Calls"
        },
        "extra_headers": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Extra Headers"
        },
        "functions": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Functions"
        },
        "function_call": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Function Call"
        },
        "base_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Base Url"
        },
        "api_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Api Version"
        },
        "api_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Api Key"
        },
        "model_list": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Model List"
        },
        "mock_response": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Mock Response"
        },
        "custom_llm_provider": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Custom Llm Provider"
        },
        "max_retries": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max Retries"
        }
      },
      "title": "LitellmParameters",
      "type": "object"
    },
    "LocationType": {
      "additionalProperties": false,
      "properties": {
        "path": {
          "items": {
            "type": "string"
          },
          "title": "Path",
          "type": "array"
        },
        "file": {
          "title": "File",
          "type": "string"
        },
        "table": {
          "additionalProperties": {
            "type": "integer"
          },
          "title": "Table",
          "type": "object"
        }
      },
      "required": [
        "path",
        "file",
        "table"
      ],
      "title": "LocationType",
      "type": "object"
    },
    "MessageBlock": {
      "additionalProperties": false,
      "description": "Create a message.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "description": "Role of associated to the message.",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "message",
          "default": "message",
          "enum": [
            "message"
          ],
          "title": "Kind",
          "type": "string"
        },
        "content": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Content of the message.",
          "title": "Content"
        }
      },
      "required": [
        "role",
        "content"
      ],
      "title": "MessageBlock",
      "type": "object"
    },
    "ModerationHAP": {
      "additionalProperties": true,
      "properties": {
        "input": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModerationHAPInput"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "output": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModerationHAPOutput"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "ModerationHAP",
      "type": "object"
    },
    "ModerationHAPInput": {
      "additionalProperties": true,
      "properties": {
        "enabled": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Enabled"
        },
        "send_tokens": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Send Tokens"
        },
        "threshold": {
          "anyOf": [
            {
              "maximum": 0.99,
              "minimum": 0.01,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": 0.75,
          "title": "Threshold"
        }
      },
      "title": "ModerationHAPInput",
      "type": "object"
    },
    "ModerationHAPOutput": {
      "additionalProperties": true,
      "properties": {
        "enabled": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Enabled"
        },
        "send_tokens": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Send Tokens"
        },
        "threshold": {
          "anyOf": [
            {
              "maximum": 0.99,
              "minimum": 0.01,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": 0.75,
          "title": "Threshold"
        }
      },
      "title": "ModerationHAPOutput",
      "type": "object"
    },
    "ModerationParameters": {
      "additionalProperties": true,
      "properties": {
        "hap": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModerationHAP"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "social_bias": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModerationSocialBias"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "ModerationParameters",
      "type": "object"
    },
    "ModerationSocialBias": {
      "additionalProperties": true,
      "properties": {
        "input": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModerationSocialBiasInput"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "output": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModerationSocialBiasOutput"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "ModerationSocialBias",
      "type": "object"
    },
    "ModerationSocialBiasInput": {
      "additionalProperties": true,
      "properties": {
        "enabled": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Enabled"
        },
        "send_tokens": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Send Tokens"
        },
        "threshold": {
          "anyOf": [
            {
              "maximum": 0.99,
              "minimum": 0.01,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": 0.75,
          "title": "Threshold"
        }
      },
      "title": "ModerationSocialBiasInput",
      "type": "object"
    },
    "ModerationSocialBiasOutput": {
      "additionalProperties": true,
      "properties": {
        "enabled": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Enabled"
        },
        "send_tokens": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Send Tokens"
        },
        "threshold": {
          "anyOf": [
            {
              "maximum": 0.99,
              "minimum": 0.01,
              "multipleOf": 0.01,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": 0.75,
          "title": "Threshold"
        }
      },
      "title": "ModerationSocialBiasOutput",
      "type": "object"
    },
    "ObjectBlock": {
      "additionalProperties": false,
      "description": "Return the object where the value of each field is defined by a block. If the body of the object is an array, the resulting object is the union of the objects computed by each element of the array.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "object",
          "default": "object",
          "enum": [
            "object"
          ],
          "title": "Kind",
          "type": "string"
        },
        "object": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "items": {
                      "anyOf": [
                        {
                          "type": "boolean"
                        },
                        {
                          "type": "integer"
                        },
                        {
                          "type": "number"
                        },
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/$defs/FunctionBlock"
                        },
                        {
                          "$ref": "#/$defs/CallBlock"
                        },
                        {
                          "$ref": "#/$defs/LitellmModelBlock"
                        },
                        {
                          "$ref": "#/$defs/BamModelBlock"
                        },
                        {
                          "$ref": "#/$defs/CodeBlock"
                        },
                        {
                          "$ref": "#/$defs/GetBlock"
                        },
                        {
                          "$ref": "#/$defs/DataBlock"
                        },
                        {
                          "$ref": "#/$defs/IfBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatUntilBlock"
                        },
                        {
                          "$ref": "#/$defs/ForBlock"
                        },
                        {
                          "$ref": "#/$defs/TextBlock"
                        },
                        {
                          "$ref": "#/$defs/LastOfBlock"
                        },
                        {
                          "$ref": "#/$defs/ArrayBlock"
                        },
                        {
                          "$ref": "#/$defs/ObjectBlock"
                        },
                        {
                          "$ref": "#/$defs/MessageBlock"
                        },
                        {
                          "$ref": "#/$defs/ReadBlock"
                        },
                        {
                          "$ref": "#/$defs/IncludeBlock"
                        },
                        {
                          "$ref": "#/$defs/ErrorBlock"
                        },
                        {
                          "$ref": "#/$defs/EmptyBlock"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": "array"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "object"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            }
          ],
          "title": "Object"
        }
      },
      "required": [
        "object"
      ],
      "title": "ObjectBlock",
      "type": "object"
    },
    "PdlBlock": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "integer"
        },
        {
          "type": "number"
        },
        {
          "type": "string"
        },
        {
          "$ref": "#/$defs/FunctionBlock"
        },
        {
          "$ref": "#/$defs/CallBlock"
        },
        {
          "$ref": "#/$defs/LitellmModelBlock"
        },
        {
          "$ref": "#/$defs/BamModelBlock"
        },
        {
          "$ref": "#/$defs/CodeBlock"
        },
        {
          "$ref": "#/$defs/GetBlock"
        },
        {
          "$ref": "#/$defs/DataBlock"
        },
        {
          "$ref": "#/$defs/IfBlock"
        },
        {
          "$ref": "#/$defs/RepeatBlock"
        },
        {
          "$ref": "#/$defs/RepeatUntilBlock"
        },
        {
          "$ref": "#/$defs/ForBlock"
        },
        {
          "$ref": "#/$defs/TextBlock"
        },
        {
          "$ref": "#/$defs/LastOfBlock"
        },
        {
          "$ref": "#/$defs/ArrayBlock"
        },
        {
          "$ref": "#/$defs/ObjectBlock"
        },
        {
          "$ref": "#/$defs/MessageBlock"
        },
        {
          "$ref": "#/$defs/ReadBlock"
        },
        {
          "$ref": "#/$defs/IncludeBlock"
        },
        {
          "$ref": "#/$defs/ErrorBlock"
        },
        {
          "$ref": "#/$defs/EmptyBlock"
        },
        {
          "type": "null"
        }
      ],
      "title": "PdlBlock"
    },
    "PdlBlocks": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "integer"
        },
        {
          "type": "number"
        },
        {
          "type": "string"
        },
        {
          "$ref": "#/$defs/FunctionBlock"
        },
        {
          "$ref": "#/$defs/CallBlock"
        },
        {
          "$ref": "#/$defs/LitellmModelBlock"
        },
        {
          "$ref": "#/$defs/BamModelBlock"
        },
        {
          "$ref": "#/$defs/CodeBlock"
        },
        {
          "$ref": "#/$defs/GetBlock"
        },
        {
          "$ref": "#/$defs/DataBlock"
        },
        {
          "$ref": "#/$defs/IfBlock"
        },
        {
          "$ref": "#/$defs/RepeatBlock"
        },
        {
          "$ref": "#/$defs/RepeatUntilBlock"
        },
        {
          "$ref": "#/$defs/ForBlock"
        },
        {
          "$ref": "#/$defs/TextBlock"
        },
        {
          "$ref": "#/$defs/LastOfBlock"
        },
        {
          "$ref": "#/$defs/ArrayBlock"
        },
        {
          "$ref": "#/$defs/ObjectBlock"
        },
        {
          "$ref": "#/$defs/MessageBlock"
        },
        {
          "$ref": "#/$defs/ReadBlock"
        },
        {
          "$ref": "#/$defs/IncludeBlock"
        },
        {
          "$ref": "#/$defs/ErrorBlock"
        },
        {
          "$ref": "#/$defs/EmptyBlock"
        },
        {
          "items": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "title": "PdlBlocks"
    },
    "PdlParser": {
      "additionalProperties": false,
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "spec": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Spec"
        },
        "pdl": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "title": "Pdl"
        }
      },
      "required": [
        "pdl"
      ],
      "title": "PdlParser",
      "type": "object"
    },
    "Program": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "integer"
        },
        {
          "type": "number"
        },
        {
          "type": "string"
        },
        {
          "$ref": "#/$defs/FunctionBlock"
        },
        {
          "$ref": "#/$defs/CallBlock"
        },
        {
          "$ref": "#/$defs/LitellmModelBlock"
        },
        {
          "$ref": "#/$defs/BamModelBlock"
        },
        {
          "$ref": "#/$defs/CodeBlock"
        },
        {
          "$ref": "#/$defs/GetBlock"
        },
        {
          "$ref": "#/$defs/DataBlock"
        },
        {
          "$ref": "#/$defs/IfBlock"
        },
        {
          "$ref": "#/$defs/RepeatBlock"
        },
        {
          "$ref": "#/$defs/RepeatUntilBlock"
        },
        {
          "$ref": "#/$defs/ForBlock"
        },
        {
          "$ref": "#/$defs/TextBlock"
        },
        {
          "$ref": "#/$defs/LastOfBlock"
        },
        {
          "$ref": "#/$defs/ArrayBlock"
        },
        {
          "$ref": "#/$defs/ObjectBlock"
        },
        {
          "$ref": "#/$defs/MessageBlock"
        },
        {
          "$ref": "#/$defs/ReadBlock"
        },
        {
          "$ref": "#/$defs/IncludeBlock"
        },
        {
          "$ref": "#/$defs/ErrorBlock"
        },
        {
          "$ref": "#/$defs/EmptyBlock"
        },
        {
          "items": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "description": "Prompt Declaration Language program (PDL)",
      "title": "Program"
    },
    "PromptTemplateData": {
      "additionalProperties": true,
      "properties": {
        "example_file_ids": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "maxItems": 5,
              "minItems": 0,
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Example File Ids"
        }
      },
      "title": "PromptTemplateData",
      "type": "object"
    },
    "ReadBlock": {
      "additionalProperties": false,
      "description": "Read from a file or standard input.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "read",
          "default": "read",
          "enum": [
            "read"
          ],
          "title": "Kind",
          "type": "string"
        },
        "read": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "description": "Name of the file to read. If `None`, read the standard input.\n    ",
          "title": "Read"
        },
        "message": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Message to prompt the user to enter a value.\n    ",
          "title": "Message"
        },
        "multiline": {
          "default": false,
          "description": "Indicate if one or multiple lines shoud be read.\n    ",
          "title": "Multiline",
          "type": "boolean"
        }
      },
      "required": [
        "read"
      ],
      "title": "ReadBlock",
      "type": "object"
    },
    "RegexParser": {
      "additionalProperties": false,
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "spec": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Spec"
        },
        "regex": {
          "title": "Regex",
          "type": "string"
        },
        "mode": {
          "default": "fullmatch",
          "enum": [
            "search",
            "match",
            "fullmatch",
            "split",
            "findall"
          ],
          "title": "Mode",
          "type": "string"
        }
      },
      "required": [
        "regex"
      ],
      "title": "RegexParser",
      "type": "object"
    },
    "RepeatBlock": {
      "additionalProperties": false,
      "description": "Repeat the execution of a block for a fixed number of iterations.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "repeat",
          "default": "repeat",
          "enum": [
            "repeat"
          ],
          "title": "Kind",
          "type": "string"
        },
        "repeat": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the loop.\n    ",
          "title": "Repeat"
        },
        "num_iterations": {
          "description": "Number of iterations to perform.\n    ",
          "title": "Num Iterations",
          "type": "integer"
        },
        "join": {
          "anyOf": [
            {
              "$ref": "#/$defs/JoinText"
            },
            {
              "$ref": "#/$defs/JoinArray"
            },
            {
              "$ref": "#/$defs/JoinLastOf"
            }
          ],
          "default": {
            "as": "text",
            "with": ""
          },
          "description": "Define how to combine the result of each iteration.\n    ",
          "title": "Join"
        },
        "trace": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "items": {
                      "anyOf": [
                        {
                          "type": "boolean"
                        },
                        {
                          "type": "integer"
                        },
                        {
                          "type": "number"
                        },
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/$defs/FunctionBlock"
                        },
                        {
                          "$ref": "#/$defs/CallBlock"
                        },
                        {
                          "$ref": "#/$defs/LitellmModelBlock"
                        },
                        {
                          "$ref": "#/$defs/BamModelBlock"
                        },
                        {
                          "$ref": "#/$defs/CodeBlock"
                        },
                        {
                          "$ref": "#/$defs/GetBlock"
                        },
                        {
                          "$ref": "#/$defs/DataBlock"
                        },
                        {
                          "$ref": "#/$defs/IfBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatUntilBlock"
                        },
                        {
                          "$ref": "#/$defs/ForBlock"
                        },
                        {
                          "$ref": "#/$defs/TextBlock"
                        },
                        {
                          "$ref": "#/$defs/LastOfBlock"
                        },
                        {
                          "$ref": "#/$defs/ArrayBlock"
                        },
                        {
                          "$ref": "#/$defs/ObjectBlock"
                        },
                        {
                          "$ref": "#/$defs/MessageBlock"
                        },
                        {
                          "$ref": "#/$defs/ReadBlock"
                        },
                        {
                          "$ref": "#/$defs/IncludeBlock"
                        },
                        {
                          "$ref": "#/$defs/ErrorBlock"
                        },
                        {
                          "$ref": "#/$defs/EmptyBlock"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": "array"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trace"
        }
      },
      "required": [
        "repeat",
        "num_iterations"
      ],
      "title": "RepeatBlock",
      "type": "object"
    },
    "RepeatUntilBlock": {
      "additionalProperties": false,
      "description": "Repeat the execution of a block until a condition is satisfied.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "repeat_until",
          "default": "repeat_until",
          "enum": [
            "repeat_until"
          ],
          "title": "Kind",
          "type": "string"
        },
        "repeat": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the loop.\n    ",
          "title": "Repeat"
        },
        "until": {
          "description": "Condition of the loop.\n    ",
          "title": "Until"
        },
        "join": {
          "anyOf": [
            {
              "$ref": "#/$defs/JoinText"
            },
            {
              "$ref": "#/$defs/JoinArray"
            },
            {
              "$ref": "#/$defs/JoinLastOf"
            }
          ],
          "default": {
            "as": "text",
            "with": ""
          },
          "description": "Define how to combine the result of each iteration.\n    ",
          "title": "Join"
        },
        "trace": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "items": {
                      "anyOf": [
                        {
                          "type": "boolean"
                        },
                        {
                          "type": "integer"
                        },
                        {
                          "type": "number"
                        },
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/$defs/FunctionBlock"
                        },
                        {
                          "$ref": "#/$defs/CallBlock"
                        },
                        {
                          "$ref": "#/$defs/LitellmModelBlock"
                        },
                        {
                          "$ref": "#/$defs/BamModelBlock"
                        },
                        {
                          "$ref": "#/$defs/CodeBlock"
                        },
                        {
                          "$ref": "#/$defs/GetBlock"
                        },
                        {
                          "$ref": "#/$defs/DataBlock"
                        },
                        {
                          "$ref": "#/$defs/IfBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatBlock"
                        },
                        {
                          "$ref": "#/$defs/RepeatUntilBlock"
                        },
                        {
                          "$ref": "#/$defs/ForBlock"
                        },
                        {
                          "$ref": "#/$defs/TextBlock"
                        },
                        {
                          "$ref": "#/$defs/LastOfBlock"
                        },
                        {
                          "$ref": "#/$defs/ArrayBlock"
                        },
                        {
                          "$ref": "#/$defs/ObjectBlock"
                        },
                        {
                          "$ref": "#/$defs/MessageBlock"
                        },
                        {
                          "$ref": "#/$defs/ReadBlock"
                        },
                        {
                          "$ref": "#/$defs/IncludeBlock"
                        },
                        {
                          "$ref": "#/$defs/ErrorBlock"
                        },
                        {
                          "$ref": "#/$defs/EmptyBlock"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": "array"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trace"
        }
      },
      "required": [
        "repeat",
        "until"
      ],
      "title": "RepeatUntilBlock",
      "type": "object"
    },
    "TextBlock": {
      "additionalProperties": false,
      "description": "Create the concatenation of the stringify version of the result of each block of the list of blocks.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/BamModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/RepeatUntilBlock"
              },
              {
                "$ref": "#/$defs/ForBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "$ref": "#/$defs/FunctionBlock"
                    },
                    {
                      "$ref": "#/$defs/CallBlock"
                    },
                    {
                      "$ref": "#/$defs/LitellmModelBlock"
                    },
                    {
                      "$ref": "#/$defs/BamModelBlock"
                    },
                    {
                      "$ref": "#/$defs/CodeBlock"
                    },
                    {
                      "$ref": "#/$defs/GetBlock"
                    },
                    {
                      "$ref": "#/$defs/DataBlock"
                    },
                    {
                      "$ref": "#/$defs/IfBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatBlock"
                    },
                    {
                      "$ref": "#/$defs/RepeatUntilBlock"
                    },
                    {
                      "$ref": "#/$defs/ForBlock"
                    },
                    {
                      "$ref": "#/$defs/TextBlock"
                    },
                    {
                      "$ref": "#/$defs/LastOfBlock"
                    },
                    {
                      "$ref": "#/$defs/ArrayBlock"
                    },
                    {
                      "$ref": "#/$defs/ObjectBlock"
                    },
                    {
                      "$ref": "#/$defs/MessageBlock"
                    },
                    {
                      "$ref": "#/$defs/ReadBlock"
                    },
                    {
                      "$ref": "#/$defs/IncludeBlock"
                    },
                    {
                      "$ref": "#/$defs/ErrorBlock"
                    },
                    {
                      "$ref": "#/$defs/EmptyBlock"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\n    ",
          "title": "Role"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "location": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "kind": {
          "const": "text",
          "default": "text",
          "enum": [
            "text"
          ],
          "title": "Kind",
          "type": "string"
        },
        "text": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/BamModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/RepeatUntilBlock"
            },
            {
              "$ref": "#/$defs/ForBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/BamModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatUntilBlock"
                  },
                  {
                    "$ref": "#/$defs/ForBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the text.\n    ",
          "title": "Text"
        }
      },
      "required": [
        "text"
      ],
      "title": "TextBlock",
      "type": "object"
    },
    "TextGenerationReturnOptions": {
      "additionalProperties": true,
      "properties": {
        "generated_tokens": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Generated Tokens"
        },
        "input_parameters": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Input Parameters"
        },
        "input_text": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Input text"
        },
        "input_tokens": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Input Tokens"
        },
        "token_logprobs": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Token logprobs"
        },
        "token_ranks": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "title": "Token ranks"
        },
        "top_n_tokens": {
          "anyOf": [
            {
              "maximum": 5,
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Top N tokens"
        }
      },
      "title": "TextGenerationReturnOptions",
      "type": "object"
    }
  },
  "title": "PDL Schemas",
  "anyOf": [
    {
      "$ref": "#/$defs/Program"
    },
    {
      "$ref": "#/$defs/PdlBlock"
    },
    {
      "$ref": "#/$defs/PdlBlocks"
    }
  ]
}
