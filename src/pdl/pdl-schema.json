{
  "$defs": {
    "AnyPattern": {
      "additionalProperties": false,
      "properties": {
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Def"
        },
        "any": {
          "const": null,
          "title": "Any",
          "type": "null"
        }
      },
      "required": [
        "any"
      ],
      "title": "AnyPattern",
      "type": "object"
    },
    "ArgsBlock": {
      "additionalProperties": false,
      "description": "Execute a command line, which will spawn a subprocess with the given argument vector. Note: if you need a shell script execution, you must wrap your command line in /bin/sh or some shell of your choosing.\n\nExample:\n```PDL\nargs:\n- /bin/sh\n- \"-c\"\n- \"if [[ $x = 1 ]]; then echo y; else echo n; fi\"\n```",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "code",
          "default": "code",
          "title": "Kind",
          "type": "string"
        },
        "lang": {
          "const": "command",
          "default": "command",
          "title": "Lang",
          "type": "string"
        },
        "args": {
          "description": "The argument vector to spawn.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/LocalizedExpression_TypeVar_"
              },
              {
                "type": "string"
              }
            ]
          },
          "title": "Args",
          "type": "array"
        }
      },
      "required": [
        "args"
      ],
      "title": "ArgsBlock",
      "type": "object"
    },
    "ArrayBlock": {
      "additionalProperties": false,
      "description": "Return the array of values computed by each block of the list of blocks.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "array",
          "default": "array",
          "title": "Kind",
          "type": "string"
        },
        "array": {
          "description": "Elements of the array.",
          "items": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "title": "Array",
          "type": "array"
        }
      },
      "required": [
        "array"
      ],
      "title": "ArrayBlock",
      "type": "object"
    },
    "ArrayPattern": {
      "additionalProperties": false,
      "properties": {
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Def"
        },
        "array": {
          "items": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/OrPattern"
              },
              {
                "$ref": "#/$defs/ArrayPattern"
              },
              {
                "$ref": "#/$defs/ObjectPattern"
              },
              {
                "$ref": "#/$defs/AnyPattern"
              },
              {
                "type": "null"
              }
            ]
          },
          "title": "Array",
          "type": "array"
        }
      },
      "required": [
        "array"
      ],
      "title": "ArrayPattern",
      "type": "object"
    },
    "CallBlock": {
      "additionalProperties": false,
      "description": "Calling a function.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "call",
          "default": "call",
          "title": "Kind",
          "type": "string"
        },
        "call": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {},
            {
              "type": "string"
            }
          ],
          "description": "Function to call.\n    ",
          "title": "Call"
        },
        "args": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {},
            {
              "type": "string"
            }
          ],
          "default": {},
          "description": "Arguments of the function with their values.\n    ",
          "title": "Args"
        },
        "pdl__trace": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Trace"
        }
      },
      "required": [
        "call"
      ],
      "title": "CallBlock",
      "type": "object"
    },
    "CodeBlock": {
      "additionalProperties": false,
      "description": "Execute a piece of code.\n\nExample:\n```PDL\nlang: python\ncode: |\n    import random\n    # (In PDL, set `result` to the output you wish for your code block.)\n    result = random.randint(1, 20)\n```",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "code",
          "default": "code",
          "title": "Kind",
          "type": "string"
        },
        "lang": {
          "description": "Programming language of the code.\n    ",
          "enum": [
            "python",
            "command",
            "jinja",
            "pdl"
          ],
          "title": "Lang",
          "type": "string"
        },
        "code": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "description": "Code to execute.\n    ",
          "title": "Code"
        }
      },
      "required": [
        "lang",
        "code"
      ],
      "title": "CodeBlock",
      "type": "object"
    },
    "ContributeTarget": {
      "enum": [
        "result",
        "context"
      ],
      "title": "ContributeTarget",
      "type": "string"
    },
    "ContributeValue": {
      "additionalProperties": false,
      "properties": {
        "value": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "string"
            }
          ],
          "title": "Value"
        }
      },
      "required": [
        "value"
      ],
      "title": "ContributeValue",
      "type": "object"
    },
    "DataBlock": {
      "additionalProperties": false,
      "description": "Arbitrary value, equivalent to JSON.\n\nExample. As part of a `defs` section, set `numbers` to the list `[1, 2, 3, 4]`:\n```PDL\ndefs:\n  numbers:\n    data: [1, 2, 3, 4]\n```\n\nExample.  Evaluate `${ TEST.answer }` in\n[Jinja](https://jinja.palletsprojects.com/en/stable/), passing\nthe result to a regex parser with capture groups.  Set\n`EXTRACTED_GROUND_TRUTH` to an object with attribute `answer`,\na string, containing the value of the capture group.\n```PDL\n- data: ${ TEST.answer }\n  parser:\n    regex: \"(.|\\n)*#### (?P<answer>([0-9])*)\\n*\"\n    spec:\n      answer: str\n  def: EXTRACTED_GROUND_TRUTH\n```",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "data",
          "default": "data",
          "title": "Kind",
          "type": "string"
        },
        "data": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {},
            {
              "type": "string"
            }
          ],
          "description": "Value defined.",
          "title": "Data"
        },
        "raw": {
          "default": false,
          "description": "Do not evaluate expressions inside strings.",
          "title": "Raw",
          "type": "boolean"
        }
      },
      "required": [
        "data"
      ],
      "title": "DataBlock",
      "type": "object"
    },
    "EmptyBlock": {
      "additionalProperties": false,
      "description": "Block without an action. It can contain definitions.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "empty",
          "default": "empty",
          "title": "Kind",
          "type": "string"
        }
      },
      "title": "EmptyBlock",
      "type": "object"
    },
    "ErrorBlock": {
      "additionalProperties": false,
      "description": "Block representing an error generated at runtime.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "error",
          "default": "error",
          "title": "Kind",
          "type": "string"
        },
        "msg": {
          "description": "Error message.\n    ",
          "title": "Msg",
          "type": "string"
        },
        "program": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "description": "Block that raised the error.\n    ",
          "title": "Program"
        }
      },
      "required": [
        "msg",
        "program"
      ],
      "title": "ErrorBlock",
      "type": "object"
    },
    "FunctionBlock": {
      "additionalProperties": false,
      "description": "Function declaration.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "function",
          "default": "function",
          "title": "Kind",
          "type": "string"
        },
        "function": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "description": "Functions parameters with their types.\n    ",
          "title": "Function"
        },
        "return": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the function\n    ",
          "title": "Return"
        }
      },
      "required": [
        "function",
        "return"
      ],
      "title": "FunctionBlock",
      "type": "object"
    },
    "GetBlock": {
      "additionalProperties": false,
      "description": "Get the value of a variable.\n\nThe GetBlock is deprecated.  Use DataBlock instead.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "get",
          "default": "get",
          "title": "Kind",
          "type": "string"
        },
        "get": {
          "description": "Name of the variable to access.",
          "title": "Get",
          "type": "string"
        }
      },
      "required": [
        "get"
      ],
      "title": "GetBlock",
      "type": "object"
    },
    "GraniteioModelBlock": {
      "additionalProperties": false,
      "description": "Call an LLM through the granite-io API.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "model",
          "default": "model",
          "title": "Kind",
          "type": "string"
        },
        "model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {},
            {
              "type": "string"
            }
          ],
          "description": "Model name used by the backend.\n    ",
          "title": "Model"
        },
        "input": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": "${ pdl_context }",
          "description": "Messages to send to the model.\n    ",
          "title": "Input"
        },
        "modelResponse": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Variable where to store the raw response of the model.\n    ",
          "title": "Modelresponse"
        },
        "pdl__usage": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlUsage"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Tokens consumed during model call\n    "
        },
        "pdl__model_input": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Model Input"
        },
        "platform": {
          "const": "granite-io",
          "default": "granite-io",
          "description": "Optional field to ensure that the block is using granite-io.\n    ",
          "title": "Platform",
          "type": "string"
        },
        "backend": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "string"
            },
            {
              "additionalProperties": true,
              "type": "object"
            }
          ],
          "description": "Backend name and configuration.\n    ",
          "title": "Backend"
        },
        "processor": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "IO Processor name.\n    ",
          "title": "Processor"
        },
        "parameters": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parameters sent to the model.\n    ",
          "title": "Parameters"
        }
      },
      "required": [
        "model",
        "backend"
      ],
      "title": "GraniteioModelBlock",
      "type": "object"
    },
    "IfBlock": {
      "additionalProperties": false,
      "description": "Conditional control structure.\n\nExample:\n```PDL\ndefs:\n  answer:\n    read:\n    message: \"Enter a number? \"\nif: ${ (answer | int) == 42 }\nthen: You won!\n```",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "if",
          "default": "if",
          "title": "Kind",
          "type": "string"
        },
        "if": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "boolean"
            },
            {
              "type": "string"
            }
          ],
          "description": "Condition.\n    ",
          "title": "If"
        },
        "then": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "description": "Branch to execute if the condition is true.\n    ",
          "title": "Then"
        },
        "else": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Branch to execute if the condition is false.\n    ",
          "title": "Else"
        },
        "if_result": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "If Result"
        }
      },
      "required": [
        "if",
        "then"
      ],
      "title": "IfBlock",
      "type": "object"
    },
    "ImportBlock": {
      "additionalProperties": false,
      "description": "Import a PDL file.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "import",
          "default": "import",
          "title": "Kind",
          "type": "string"
        },
        "import": {
          "description": "Name of the file to import.\n    ",
          "title": "Import",
          "type": "string"
        },
        "pdl__trace": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Trace"
        }
      },
      "required": [
        "import"
      ],
      "title": "ImportBlock",
      "type": "object"
    },
    "IncludeBlock": {
      "additionalProperties": false,
      "description": "Include a PDL file.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "include",
          "default": "include",
          "title": "Kind",
          "type": "string"
        },
        "include": {
          "description": "Name of the file to include.\n    ",
          "title": "Include",
          "type": "string"
        },
        "pdl__trace": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Trace"
        }
      },
      "required": [
        "include"
      ],
      "title": "IncludeBlock",
      "type": "object"
    },
    "JoinArray": {
      "additionalProperties": false,
      "properties": {
        "as": {
          "const": "array",
          "description": "Return the result of each iteration as an array.\n    ",
          "title": "As",
          "type": "string"
        }
      },
      "required": [
        "as"
      ],
      "title": "JoinArray",
      "type": "object"
    },
    "JoinLastOf": {
      "additionalProperties": false,
      "properties": {
        "as": {
          "const": "lastOf",
          "description": "Return the result of the last iteration.\n    ",
          "title": "As",
          "type": "string"
        }
      },
      "required": [
        "as"
      ],
      "title": "JoinLastOf",
      "type": "object"
    },
    "JoinObject": {
      "additionalProperties": false,
      "properties": {
        "as": {
          "const": "object",
          "description": "Return the union of the objects created at each iteration.\n    ",
          "title": "As",
          "type": "string"
        }
      },
      "required": [
        "as"
      ],
      "title": "JoinObject",
      "type": "object"
    },
    "JoinText": {
      "additionalProperties": false,
      "properties": {
        "as": {
          "const": "text",
          "default": "text",
          "description": "String concatenation of the result of each iteration.\n    ",
          "title": "As",
          "type": "string"
        },
        "with": {
          "default": "",
          "description": "String used to concatenate each iteration of the loop.\n    ",
          "title": "With",
          "type": "string"
        }
      },
      "title": "JoinText",
      "type": "object"
    },
    "LastOfBlock": {
      "additionalProperties": false,
      "description": "Return the value of the last block if the list of blocks.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "lastOf",
          "default": "lastOf",
          "title": "Kind",
          "type": "string"
        },
        "lastOf": {
          "description": "Sequence of blocks to execute.",
          "items": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "title": "Lastof",
          "type": "array"
        }
      },
      "required": [
        "lastOf"
      ],
      "title": "LastOfBlock",
      "type": "object"
    },
    "LitellmModelBlock": {
      "additionalProperties": false,
      "description": "Call an LLM through [the LiteLLM API](https://docs.litellm.ai/).\n\nExample:\n```PDL\n- model: ollama/granite-code:8b\n  parameters:\n    stop: ['!']\n```",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "model",
          "default": "model",
          "title": "Kind",
          "type": "string"
        },
        "model": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "string"
            }
          ],
          "description": "Name of the model following the LiteLLM convention.\n    ",
          "title": "Model"
        },
        "input": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": "${ pdl_context }",
          "description": "Messages to send to the model.\n    ",
          "title": "Input"
        },
        "modelResponse": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Variable where to store the raw response of the model.\n    ",
          "title": "Modelresponse"
        },
        "pdl__usage": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlUsage"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Tokens consumed during model call\n    "
        },
        "pdl__model_input": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Model Input"
        },
        "platform": {
          "const": "litellm",
          "default": "litellm",
          "description": "Optional field to ensure that the block is using LiteLLM.\n    ",
          "title": "Platform",
          "type": "string"
        },
        "parameters": {
          "anyOf": [
            {
              "$ref": "#/$defs/LitellmParameters"
            },
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parameters to send to the model.\n    ",
          "title": "Parameters"
        }
      },
      "required": [
        "model"
      ],
      "title": "LitellmModelBlock",
      "type": "object"
    },
    "LitellmParameters": {
      "additionalProperties": true,
      "description": "Parameters passed to LiteLLM. More details at [https://docs.litellm.ai/docs/completion/input](https://docs.litellm.ai/docs/completion/input).\n\nNote that not all models and platforms accept all parameters.",
      "properties": {
        "timeout": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Timeout"
        },
        "temperature": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Temperature"
        },
        "top_p": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Top P"
        },
        "n": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "N"
        },
        "stop": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Stop"
        },
        "max_tokens": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max Tokens"
        },
        "presence_penalty": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Presence Penalty"
        },
        "frequency_penalty": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Frequency Penalty"
        },
        "logit_bias": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Logit Bias"
        },
        "user": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "User"
        },
        "response_format": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Response Format"
        },
        "seed": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Seed"
        },
        "tools": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tools"
        },
        "tool_choice": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tool Choice"
        },
        "logprobs": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Logprobs"
        },
        "top_logprobs": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Top Logprobs"
        },
        "parallel_tool_calls": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Parallel Tool Calls"
        },
        "extra_headers": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Extra Headers"
        },
        "functions": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Functions"
        },
        "function_call": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Function Call"
        },
        "base_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Base Url"
        },
        "api_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Api Version"
        },
        "api_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Api Key"
        },
        "model_list": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Model List"
        },
        "mock_response": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Mock Response"
        },
        "custom_llm_provider": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Custom Llm Provider"
        },
        "max_retries": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max Retries"
        }
      },
      "title": "LitellmParameters",
      "type": "object"
    },
    "LocalizedExpression_TypeVar_": {
      "additionalProperties": false,
      "properties": {
        "pdl__expr": {
          "title": "Pdl  Expr"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "pdl__expr"
      ],
      "title": "LocalizedExpression",
      "type": "object"
    },
    "MatchBlock": {
      "additionalProperties": false,
      "description": "Match control structure.\n\nExample:\n```PDL\ndefs:\n  answer:\n    read:\n    message: \"Enter a number? \"\nmatch: ${ (answer | int) }\nwith:\n- case: 42\n  then: You won!\n- case:\n    any:\n    def: x\n  if: ${ x > 42 }\n  then: Too high\n- then: Too low",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "match",
          "default": "match",
          "title": "Kind",
          "type": "string"
        },
        "match": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {},
            {
              "type": "string"
            }
          ],
          "description": "Matched expression.\n    ",
          "title": "Match"
        },
        "with": {
          "description": "List of cases to match.\n    ",
          "items": {
            "$ref": "#/$defs/MatchCase"
          },
          "title": "With",
          "type": "array"
        }
      },
      "required": [
        "match",
        "with"
      ],
      "title": "MatchBlock",
      "type": "object"
    },
    "MatchCase": {
      "additionalProperties": false,
      "description": "Case of a match.",
      "properties": {
        "case": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/OrPattern"
            },
            {
              "$ref": "#/$defs/ArrayPattern"
            },
            {
              "$ref": "#/$defs/ObjectPattern"
            },
            {
              "$ref": "#/$defs/AnyPattern"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Case"
        },
        "if": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "boolean"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "If"
        },
        "then": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "title": "Then"
        },
        "pdl__case_result": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Case Result"
        },
        "pdl__if_result": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  If Result"
        },
        "pdl__matched": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Matched"
        }
      },
      "required": [
        "then"
      ],
      "title": "MatchCase",
      "type": "object"
    },
    "MessageBlock": {
      "additionalProperties": false,
      "description": "Create a message.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "message",
          "default": "message",
          "title": "Kind",
          "type": "string"
        },
        "content": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "description": "Content of the message.",
          "title": "Content"
        },
        "name": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "For example, the name of the tool that was invoked, for which this message is the tool response.",
          "title": "Name"
        },
        "tool_call_id": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The id of the tool invocation for which this message is the tool response.",
          "title": "Tool Call Id"
        }
      },
      "required": [
        "content"
      ],
      "title": "MessageBlock",
      "type": "object"
    },
    "ObjectBlock": {
      "additionalProperties": false,
      "description": "Return the object where the value of each field is defined by a block. If the body of the object is an array, the resulting object is the union of the objects computed by each element of the array.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "object",
          "default": "object",
          "title": "Kind",
          "type": "string"
        },
        "object": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/GraniteioModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/ArgsBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/MatchBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ImportBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "object"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/GraniteioModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/ArgsBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/MatchBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ImportBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            }
          ],
          "title": "Object"
        }
      },
      "required": [
        "object"
      ],
      "title": "ObjectBlock",
      "type": "object"
    },
    "ObjectPattern": {
      "additionalProperties": false,
      "properties": {
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Def"
        },
        "object": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/OrPattern"
              },
              {
                "$ref": "#/$defs/ArrayPattern"
              },
              {
                "$ref": "#/$defs/ObjectPattern"
              },
              {
                "$ref": "#/$defs/AnyPattern"
              },
              {
                "type": "null"
              }
            ]
          },
          "title": "Object",
          "type": "object"
        }
      },
      "required": [
        "object"
      ],
      "title": "ObjectPattern",
      "type": "object"
    },
    "OrPattern": {
      "additionalProperties": false,
      "properties": {
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Def"
        },
        "anyOf": {
          "items": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/OrPattern"
              },
              {
                "$ref": "#/$defs/ArrayPattern"
              },
              {
                "$ref": "#/$defs/ObjectPattern"
              },
              {
                "$ref": "#/$defs/AnyPattern"
              },
              {
                "type": "null"
              }
            ]
          },
          "title": "Anyof",
          "type": "array"
        }
      },
      "required": [
        "anyOf"
      ],
      "title": "OrPattern",
      "type": "object"
    },
    "PdlBlock": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "integer"
        },
        {
          "type": "number"
        },
        {
          "type": "string"
        },
        {
          "$ref": "#/$defs/FunctionBlock"
        },
        {
          "$ref": "#/$defs/CallBlock"
        },
        {
          "$ref": "#/$defs/LitellmModelBlock"
        },
        {
          "$ref": "#/$defs/GraniteioModelBlock"
        },
        {
          "$ref": "#/$defs/CodeBlock"
        },
        {
          "$ref": "#/$defs/ArgsBlock"
        },
        {
          "$ref": "#/$defs/GetBlock"
        },
        {
          "$ref": "#/$defs/DataBlock"
        },
        {
          "$ref": "#/$defs/IfBlock"
        },
        {
          "$ref": "#/$defs/MatchBlock"
        },
        {
          "$ref": "#/$defs/RepeatBlock"
        },
        {
          "$ref": "#/$defs/TextBlock"
        },
        {
          "$ref": "#/$defs/LastOfBlock"
        },
        {
          "$ref": "#/$defs/ArrayBlock"
        },
        {
          "$ref": "#/$defs/ObjectBlock"
        },
        {
          "$ref": "#/$defs/MessageBlock"
        },
        {
          "$ref": "#/$defs/ReadBlock"
        },
        {
          "$ref": "#/$defs/IncludeBlock"
        },
        {
          "$ref": "#/$defs/ImportBlock"
        },
        {
          "$ref": "#/$defs/ErrorBlock"
        },
        {
          "$ref": "#/$defs/EmptyBlock"
        },
        {
          "type": "null"
        }
      ],
      "title": "PdlBlock"
    },
    "PdlLocationType": {
      "additionalProperties": false,
      "description": "Internal data structure to keep track of the source location information.",
      "properties": {
        "path": {
          "items": {
            "type": "string"
          },
          "title": "Path",
          "type": "array"
        },
        "file": {
          "title": "File",
          "type": "string"
        },
        "table": {
          "additionalProperties": {
            "type": "integer"
          },
          "title": "Table",
          "type": "object"
        }
      },
      "required": [
        "path",
        "file",
        "table"
      ],
      "title": "PdlLocationType",
      "type": "object"
    },
    "PdlParser": {
      "additionalProperties": false,
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "spec": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Spec"
        },
        "pdl": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "title": "Pdl"
        }
      },
      "required": [
        "pdl"
      ],
      "title": "PdlParser",
      "type": "object"
    },
    "PdlTiming": {
      "additionalProperties": false,
      "description": "Internal data structure to record timing information in the trace.",
      "properties": {
        "start_nanos": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 0,
          "title": "Start Nanos"
        },
        "end_nanos": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 0,
          "title": "End Nanos"
        },
        "first_use_nanos": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 0,
          "title": "First Use Nanos"
        },
        "timezone": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "title": "Timezone"
        }
      },
      "title": "PdlTiming",
      "type": "object"
    },
    "PdlUsage": {
      "description": "Internal data structure to record token consumption usage information.",
      "properties": {
        "completion_tokens": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 0,
          "title": "Completion Tokens"
        },
        "prompt_tokens": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 0,
          "title": "Prompt Tokens"
        }
      },
      "title": "PdlUsage",
      "type": "object"
    },
    "Program": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "integer"
        },
        {
          "type": "number"
        },
        {
          "type": "string"
        },
        {
          "$ref": "#/$defs/FunctionBlock"
        },
        {
          "$ref": "#/$defs/CallBlock"
        },
        {
          "$ref": "#/$defs/LitellmModelBlock"
        },
        {
          "$ref": "#/$defs/GraniteioModelBlock"
        },
        {
          "$ref": "#/$defs/CodeBlock"
        },
        {
          "$ref": "#/$defs/ArgsBlock"
        },
        {
          "$ref": "#/$defs/GetBlock"
        },
        {
          "$ref": "#/$defs/DataBlock"
        },
        {
          "$ref": "#/$defs/IfBlock"
        },
        {
          "$ref": "#/$defs/MatchBlock"
        },
        {
          "$ref": "#/$defs/RepeatBlock"
        },
        {
          "$ref": "#/$defs/TextBlock"
        },
        {
          "$ref": "#/$defs/LastOfBlock"
        },
        {
          "$ref": "#/$defs/ArrayBlock"
        },
        {
          "$ref": "#/$defs/ObjectBlock"
        },
        {
          "$ref": "#/$defs/MessageBlock"
        },
        {
          "$ref": "#/$defs/ReadBlock"
        },
        {
          "$ref": "#/$defs/IncludeBlock"
        },
        {
          "$ref": "#/$defs/ImportBlock"
        },
        {
          "$ref": "#/$defs/ErrorBlock"
        },
        {
          "$ref": "#/$defs/EmptyBlock"
        },
        {
          "type": "null"
        }
      ],
      "description": "Prompt Declaration Language program (PDL)",
      "title": "Program"
    },
    "ReadBlock": {
      "additionalProperties": false,
      "description": "Read from a file or standard input.\n\nExample. Read from the standard input with a prompt starting with `> `.\n```PDL\nread:\nmessage: \"> \"\n```\n\nExample. Read the file `./data.yaml` in the same directory of the PDL file containing the block and parse it into YAML.\n```PDL\nread: ./data.yaml\nparser: yaml\n```",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": true,
          "default": true,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "read",
          "default": "read",
          "title": "Kind",
          "type": "string"
        },
        "read": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "description": "Name of the file to read. If `None`, read the standard input.\n    ",
          "title": "Read"
        },
        "message": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Message to prompt the user to enter a value.\n    ",
          "title": "Message"
        },
        "multiline": {
          "default": false,
          "description": "Indicate if one or multiple lines should be read.\n    ",
          "title": "Multiline",
          "type": "boolean"
        }
      },
      "required": [
        "read"
      ],
      "title": "ReadBlock",
      "type": "object"
    },
    "RegexParser": {
      "additionalProperties": false,
      "description": "A regular expression parser",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "spec": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Spec"
        },
        "regex": {
          "title": "Regex",
          "type": "string"
        },
        "mode": {
          "default": "fullmatch",
          "enum": [
            "search",
            "match",
            "fullmatch",
            "split",
            "findall"
          ],
          "title": "Mode",
          "type": "string"
        }
      },
      "required": [
        "regex"
      ],
      "title": "RegexParser",
      "type": "object"
    },
    "RepeatBlock": {
      "additionalProperties": false,
      "description": "Repeat the execution of a block.\n\nFor loop example:\n```PDL\nfor:\n    number: [1, 2, 3, 4]\n    name: [\"Bob\", \"Carol\", \"David\", \"Ernest\"]\nrepeat:\n    \"${ name }'s number is ${ number }\\n\"\n```",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "repeat",
          "default": "repeat",
          "title": "Kind",
          "type": "string"
        },
        "for": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/LocalizedExpression_TypeVar_"
                  },
                  {
                    "items": {},
                    "type": "array"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Arrays to iterate over.\n    ",
          "title": "For"
        },
        "while": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "boolean"
            },
            {
              "type": "string"
            }
          ],
          "default": true,
          "description": "Condition to stay at the beginning of the loop.\n    ",
          "title": "While"
        },
        "repeat": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the loop.\n    ",
          "title": "Repeat"
        },
        "until": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "boolean"
            },
            {
              "type": "string"
            }
          ],
          "default": false,
          "description": "Condition to exit at the end of the loop.\n    ",
          "title": "Until"
        },
        "max_iterations": {
          "anyOf": [
            {
              "$ref": "#/$defs/LocalizedExpression_TypeVar_"
            },
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximal number of iterations to perform.\n    ",
          "title": "Max Iterations"
        },
        "join": {
          "anyOf": [
            {
              "$ref": "#/$defs/JoinText"
            },
            {
              "$ref": "#/$defs/JoinArray"
            },
            {
              "$ref": "#/$defs/JoinObject"
            },
            {
              "$ref": "#/$defs/JoinLastOf"
            }
          ],
          "default": {
            "as": "text",
            "with": ""
          },
          "description": "Define how to combine the result of each iteration.\n    ",
          "title": "Join"
        },
        "pdl__trace": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/GraniteioModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/ArgsBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/MatchBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ImportBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pdl  Trace"
        }
      },
      "required": [
        "repeat"
      ],
      "title": "RepeatBlock",
      "type": "object"
    },
    "TextBlock": {
      "additionalProperties": false,
      "description": "Create the concatenation of the stringify version of the result of each block of the list of blocks.",
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Documentation associated to the block.\n    ",
          "title": "Description"
        },
        "spec": {
          "default": null,
          "description": "Type specification of the result of the block.\n    ",
          "title": "Spec"
        },
        "defs": {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/FunctionBlock"
              },
              {
                "$ref": "#/$defs/CallBlock"
              },
              {
                "$ref": "#/$defs/LitellmModelBlock"
              },
              {
                "$ref": "#/$defs/GraniteioModelBlock"
              },
              {
                "$ref": "#/$defs/CodeBlock"
              },
              {
                "$ref": "#/$defs/ArgsBlock"
              },
              {
                "$ref": "#/$defs/GetBlock"
              },
              {
                "$ref": "#/$defs/DataBlock"
              },
              {
                "$ref": "#/$defs/IfBlock"
              },
              {
                "$ref": "#/$defs/MatchBlock"
              },
              {
                "$ref": "#/$defs/RepeatBlock"
              },
              {
                "$ref": "#/$defs/TextBlock"
              },
              {
                "$ref": "#/$defs/LastOfBlock"
              },
              {
                "$ref": "#/$defs/ArrayBlock"
              },
              {
                "$ref": "#/$defs/ObjectBlock"
              },
              {
                "$ref": "#/$defs/MessageBlock"
              },
              {
                "$ref": "#/$defs/ReadBlock"
              },
              {
                "$ref": "#/$defs/IncludeBlock"
              },
              {
                "$ref": "#/$defs/ImportBlock"
              },
              {
                "$ref": "#/$defs/ErrorBlock"
              },
              {
                "$ref": "#/$defs/EmptyBlock"
              },
              {
                "type": "null"
              }
            ]
          },
          "default": {},
          "description": "Set of definitions executed before the execution of the block.\n    ",
          "title": "Defs",
          "type": "object"
        },
        "def": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of the variable used to store the result of the execution of the block.\n    ",
          "title": "Def"
        },
        "contribute": {
          "default": [
            "result",
            "context"
          ],
          "description": "Indicate if the block contributes to the result and background context.\n    ",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/ContributeTarget"
              },
              {
                "additionalProperties": {
                  "$ref": "#/$defs/ContributeValue"
                },
                "type": "object"
              }
            ]
          },
          "title": "Contribute",
          "type": "array"
        },
        "parser": {
          "anyOf": [
            {
              "enum": [
                "json",
                "jsonl",
                "yaml"
              ],
              "type": "string"
            },
            {
              "$ref": "#/$defs/PdlParser"
            },
            {
              "$ref": "#/$defs/RegexParser"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parser to use to construct a value out of a string result.",
          "title": "Parser"
        },
        "fallback": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Block to execute in case of error.\n    ",
          "title": "Fallback"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role associated to the block and sub-blocks.\nTypical roles are `system`, `user`, and `assistant`,\nbut there may be other roles such as `available_tools`.",
          "title": "Role"
        },
        "context": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": [],
          "description": "Current context\n    ",
          "title": "Context"
        },
        "pdl__id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "",
          "description": "Unique identifier for this block\n    ",
          "title": "Pdl  Id"
        },
        "pdl__result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result of the execution of the block",
          "title": "Pdl  Result"
        },
        "pdl__location": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlLocationType"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__timing": {
          "anyOf": [
            {
              "$ref": "#/$defs/PdlTiming"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "pdl__is_leaf": {
          "const": false,
          "default": false,
          "title": "Pdl  Is Leaf",
          "type": "boolean"
        },
        "kind": {
          "const": "text",
          "default": "text",
          "title": "Kind",
          "type": "string"
        },
        "text": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/FunctionBlock"
            },
            {
              "$ref": "#/$defs/CallBlock"
            },
            {
              "$ref": "#/$defs/LitellmModelBlock"
            },
            {
              "$ref": "#/$defs/GraniteioModelBlock"
            },
            {
              "$ref": "#/$defs/CodeBlock"
            },
            {
              "$ref": "#/$defs/ArgsBlock"
            },
            {
              "$ref": "#/$defs/GetBlock"
            },
            {
              "$ref": "#/$defs/DataBlock"
            },
            {
              "$ref": "#/$defs/IfBlock"
            },
            {
              "$ref": "#/$defs/MatchBlock"
            },
            {
              "$ref": "#/$defs/RepeatBlock"
            },
            {
              "$ref": "#/$defs/TextBlock"
            },
            {
              "$ref": "#/$defs/LastOfBlock"
            },
            {
              "$ref": "#/$defs/ArrayBlock"
            },
            {
              "$ref": "#/$defs/ObjectBlock"
            },
            {
              "$ref": "#/$defs/MessageBlock"
            },
            {
              "$ref": "#/$defs/ReadBlock"
            },
            {
              "$ref": "#/$defs/IncludeBlock"
            },
            {
              "$ref": "#/$defs/ImportBlock"
            },
            {
              "$ref": "#/$defs/ErrorBlock"
            },
            {
              "$ref": "#/$defs/EmptyBlock"
            },
            {
              "items": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/FunctionBlock"
                  },
                  {
                    "$ref": "#/$defs/CallBlock"
                  },
                  {
                    "$ref": "#/$defs/LitellmModelBlock"
                  },
                  {
                    "$ref": "#/$defs/GraniteioModelBlock"
                  },
                  {
                    "$ref": "#/$defs/CodeBlock"
                  },
                  {
                    "$ref": "#/$defs/ArgsBlock"
                  },
                  {
                    "$ref": "#/$defs/GetBlock"
                  },
                  {
                    "$ref": "#/$defs/DataBlock"
                  },
                  {
                    "$ref": "#/$defs/IfBlock"
                  },
                  {
                    "$ref": "#/$defs/MatchBlock"
                  },
                  {
                    "$ref": "#/$defs/RepeatBlock"
                  },
                  {
                    "$ref": "#/$defs/TextBlock"
                  },
                  {
                    "$ref": "#/$defs/LastOfBlock"
                  },
                  {
                    "$ref": "#/$defs/ArrayBlock"
                  },
                  {
                    "$ref": "#/$defs/ObjectBlock"
                  },
                  {
                    "$ref": "#/$defs/MessageBlock"
                  },
                  {
                    "$ref": "#/$defs/ReadBlock"
                  },
                  {
                    "$ref": "#/$defs/IncludeBlock"
                  },
                  {
                    "$ref": "#/$defs/ImportBlock"
                  },
                  {
                    "$ref": "#/$defs/ErrorBlock"
                  },
                  {
                    "$ref": "#/$defs/EmptyBlock"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "description": "Body of the text.\n    ",
          "title": "Text"
        }
      },
      "required": [
        "text"
      ],
      "title": "TextBlock",
      "type": "object"
    }
  },
  "title": "PDL Schemas",
  "anyOf": [
    {
      "$ref": "#/$defs/Program"
    },
    {
      "$ref": "#/$defs/PdlBlock"
    }
  ]
}
